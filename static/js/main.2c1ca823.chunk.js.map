{"version":3,"sources":["Components/Navbar.js","assets/bar.svg","assets/radar.svg","Components/Compare.js","Components/Selection.js","dataset/data_by_year.csv","dataset/line_for_songs_genre_count.csv","Components/GenreOverYears.js","Components/BubbleChart.js","dataset/pie_artists_genre.csv","Components/PieArtist.js","Components/General.js","Components/Prediction.js","Components/NoMatch.js","Components/MusicPreview.js","Components/SearchBox.js","assets/search-icon.png","Components/SearchFilter.js","assets/play-button.svg","assets/recommend.svg","Components/ResultList.js","Components/Sidebar.js","Components/Layout.js","dataset/clustering_and_genre.csv","dataset/data_by_artist.csv","dataset/data_by_genres.csv","App.js","reportWebVitals.js","index.js"],"names":["Styles","styled","div","App","props","Navbar","expand","Toggle","aria-controls","Collapse","id","Nav","className","to","Compare","handleChartType","event","setChartTypeValue","target","adjusted_data","colors","d3","myRef","useRef","barRef","selected_data","selected","counter","forEach","s","push","data","acousticness","Number","danceability","energy","instrumentalness","liveness","speechiness","valence","meta","color","useEffect","container","current","svg","select","bars_height","device_width","bars_margin","bars_x_margin","svg_bar_container","append","attr","i","selectAll","enter","d","text","empty","style","genres","name","artists","on","onSelectedChange","handleSelectedChange","this","transition","duration","paddingLeft","display","marginTop","textAlign","opacity","chartTypeValue","src","radarIcon","onClick","alt","marginLeft","barIcon","options","axes","scales","captions","captionMargin","dots","zoomDistance","setViewBox","size","axisProps","scaleProps","fill","shapeProps","mouseEnter","shape","mouseLeave","captionProps","textAnchor","fontSize","fontFamily","dotProps","device_height","width","height","ref","flexWrap","alignContent","justifyContent","areEqual","prevProps","nextProps","console","log","React","memo","Selection","selectionRef","useState","range_min_value","range_max_value","rangeValue","setRangeValue","notSelected","music_data","slice","includes","filter","call","transform","x","y","feMerge","rDimensionMethod","domain","range","nested","nest","key","classificationMethod","kmeans","hierarchicalMethod","ward","average","single","complete","rollup","map","v","tsne1","tsne2","pca1","pca2","entries","convexHullsChecked","value","legend","col","has","delay","e","X","Y","html","parseFloat","toPrecision","tooltip","pageX","pageY","Slider","min","step","max","onChange","newValue","buffer","valueLabelDisplay","aria-labelledby","Button","window","alert","onRangeChange","GenreOverYears","margin","line_for_songs_genre_count_location","then","sumstat","rf_label","ticks","tickFormat","count","join","year","BubbleChart","BubbleChartRef","init","setInit","x_axis","y_axis","bubble_color","bubble_size","year_data","selectedYear","x_height","remove","PieArtist","pie_artists_genre_loc","padding","bandwidth","General","overyearsRef","overyearsGenreRef","set_x_axis","set_y_axis","set_color","set_bubble","setSelectedYear","selectedAttributes","handleAttributesChange","area_energy","y0","y1","area_valence","area_acousticness","area_danceability","area_instrumentalness","area_liveness","area_speechiness","gradient","StyledTableCell","TableCell","theme","tableCellClasses","head","backgroundColor","palette","common","white","body","StyledTableRow","TableRow","action","hover","border","createData","tempo","popularity","Math","round","rows","random","floor","TableContainer","component","Paper","sx","maxWidth","Table","minWidth","aria-label","TableHead","align","TableBody","row","scope","class","marginBottom","FormGroup","InputLabel","Select","native","label","MenuItem","Stack","spacing","direction","orientation","defaultValue","Prediction","Input","MuiInput","set_acousticness","set_danceability","duration_ms","set_duration_ms","set_energy","set_instrumentalness","set_key","set_liveness","loudness","set_loudness","mode","set_mode","set_speechiness","set_tempo","set_valence","set_count","popularity_score","set_popularity_score","category","set_category","elevation","set_elevation","song_or_artist","set_song_or_artist","model","set_model","handleBlur","FeatureSlider","feature","Typography","mb","Grid","alignItems","item","xs","onChangeCommitted","onBlur","inputProps","type","Box","minHeight","innerHeight","Card","CardContent","FormControl","fullWidth","labelId","variant","toFixed","toString","fetch","response","json","axios","resp","NoMatch","MusicPreview","title","music_preview_id","allowFullScreen","allow","Component","Search","input","SearchBox","handleChange","bind","onInputChange","placeholder","SearchFilter","location","useLocation","pathname","filterTypeHandle","checked","filterType","for","ResultList","open","setOpen","addID","setaddID","token","setToken","handleClose","getToken","clientID","process","REACT_APP_CLIENT_ID","clientSecret","REACT_APP_CLIENT_SECRET","headers","Authorization","btoa","method","tokenResponse","access_token","searchTerm","toLowerCase","results","li","borderColor","marginRight","fontWeight","itemCount","length","itemSize","index","playButton","stopPropagation","onPreviewChange","recommendIcon","openRecommendUI","Dialog","onClose","DialogTitle","DialogContent","DialogContentText","TextField","autoFocus","DialogActions","url","Accept","res","response_","addMusic","catch","error","warn","Fixed","Sidebar","setSearchTerm","term","handleFilter","classified_data","onAddHandle","Layout","children","createMuiTheme","primary","main","secondary","Set","setSelected","Array","setClassifiedData","setMusicData","artist_data","setArtistData","genre_data","setGenreData","selectedSongToRecommend","setSelectedSongToRecommend","line_for_songs_genre_count","set_line_for_songs_genre_count","setOverYearsData","setFilterType","setConvexHullsChecked","setRDimensionMethod","setClassificationMethod","setHierarchicalMethod","recommendationCount","setRecommendationCount","recommendUIIsShow","setRecommendUIIsShow","setSelectedAttributes","setMusicPreviewId","setRangeMinValue","setRangeMaxValue","loadedDS","setLoadedDS","filteredItems","newItems","handleLoadedDS","useCallback","newSet","delete","add","undefined","windowSize","setWindowSize","handleResize","innerWidth","addEventListener","removeEventListener","useWindowSize","csv","genre_data_csv","artist_data_csv","clustering_and_genre","Container","fluid","paddingRight","Col","exact","path","paddingTop","FormControlLabel","control","Checkbox","defaultChecked","Object","values","musicsToSelect","selected_temp","keepMounted","aria-describedby","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2c1ca823.chunk.js","sourcesContent":["import { Navbar, Nav } from \"react-bootstrap\";\nimport { NavLink } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\nconst Styles = styled.div`\n  .navbar-nav {\n    padding-right: 20px;\n    margin-top: 10px;\n    a {\n      color: #969696;\n      font-weight: bold;\n      font-size: 1.4em;\n      margin-right: 40px;\n    }\n    a: hover {\n      text-decoration-line: unset;\n    }\n    .active {\n      color: white;\n      text-decoration-line: underline;\n      text-decoration-thickness: 5px;\n      text-underline-offset: 14px;\n    }\n  }\n`;\n\nfunction App(props) {\n  const selectionClickHandle = (e) => {\n    if (props.filterType != \"music\") {\n      props.setFilterType(\"music\");\n      props.setSelected(new Set());\n    }\n  };\n  return (\n    <Styles>\n      <Navbar expand=\"lg\">\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          <Nav className=\"ml-auto\">\n            <NavLink to=\"/general\">GENERAL</NavLink>\n            <NavLink to=\"/compare\">RECOMMENDATION</NavLink>\n            <NavLink to=\"/selection\">\n              PREDICTION\n            </NavLink>\n          </Nav>\n        </Navbar.Collapse>\n      </Navbar>\n    </Styles>\n  );\n}\nexport default App;\n","export default __webpack_public_path__ + \"static/media/bar.98aff0fa.svg\";","export default __webpack_public_path__ + \"static/media/radar.680555f8.svg\";","import React, { useEffect, useRef } from \"react\";\nimport RadarChart from \"react-svg-radar-chart\";\nimport * as d3 from \"d3\";\nimport { select, axisBottom, axisRight, scaleLinear } from \"d3\";\nimport \"../Styles/compareChart.css\";\nimport barIcon from \"../assets/bar.svg\";\nimport radarIcon from \"../assets/radar.svg\";\n\nfunction Compare(props) {\n  const handleChartType = (event) => {\n    props.setChartTypeValue(event.target.id);\n  };\n  var adjusted_data = [];\n  const colors = d3[\"schemeTableau10\"];\n  const myRef = useRef();\n  const barRef = useRef();\n  const defaultOptions = {\n    axes: true, // show axes?\n    scales: 1, // show scale circles?\n    captions: true, // show captions?\n    captionMargin: 35,\n    dots: true, // show dots?\n    zoomDistance: 1.3, // where on the axes are the captions?\n    setViewBox: (options) =>\n      `-${options.captionMargin} 0 ${options.size + options.captionMargin * 2\n      } ${options.size}`, // custom viewBox ?\n    // smoothing: noSmoothing, // shape smoothing function\n    axisProps: () => ({\n      className: \"axis\",\n    }),\n    scaleProps: () => ({\n      className: \"scale\",\n      fill: \"none\",\n    }),\n    shapeProps: () => ({\n      className: \"shape\",\n      mouseEnter: (shape) => { },\n      mouseLeave: (shape) => { },\n    }),\n    captionProps: () => ({\n      className: \"caption\",\n      textAnchor: \"middle\",\n      fontSize: 10,\n      fontFamily: \"sans-serif\",\n    }),\n    dotProps: () => ({\n      className: \"dot\",\n    }),\n  };\n  const handleSelectedChange = function (d) {\n    props.onSelectedChange(d);\n  };\n  var selected_data = props.selected;\n  var counter = 0;\n  selected_data.forEach((s) => {\n    adjusted_data.push({\n      data: {\n        acousticness: Number(s[\"acousticness\"]),\n        danceability: Number(s[\"danceability\"]),\n        energy: Number(s[\"energy\"]),\n        instrumentalness: Number(s[\"instrumentalness\"]),\n        liveness: Number(s[\"liveness\"]),\n        speechiness: Number(s[\"speechiness\"]),\n        valence: Number(s[\"valence\"]),\n      },\n      meta: {\n        color: colors[counter % 10],\n      },\n    });\n    counter = counter + 1;\n  });\n  useEffect(() => {\n    let container = d3.select(myRef.current);\n    var svg = container.select(\"#svgCompareLegendsContainer\");\n    const bars_height = props.device_width - 580;\n    const bars_margin = 10;\n    const bars_x_margin = 100;\n    let bar_container = d3.select(barRef.current);\n    var svg_bar_container = bar_container.append(\"g\");\n    svg_bar_container.attr(\"transform\", \"translate(50,60)\");\n\n    for (var i = 0; i < 8; i = i + 1) { }\n    svg_bar_container\n      .selectAll(\"accoustic_bars\")\n      .data(props.selected)\n      .enter()\n      .append(\"rect\")\n      .attr(\"width\", function (d, i) {\n        return d.acousticness * bars_height;\n      })\n      .attr(\"height\", 5)\n      .attr(\"fill\", function (d, i) {\n        return colors[i % 10];\n      })\n      .attr(\"x\", bars_x_margin)\n      .attr(\"y\", function (d, i) {\n        return i * 90 + bars_margin;\n      });\n    svg_bar_container\n      .selectAll(\"accoustic_bars_text\")\n      .data(props.selected)\n      .enter()\n      .append(\"text\")\n      .text(\"acousticness\")\n      .attr(\"font-size\", \"0.6em\")\n      .attr(\"fill\", function (d, i) {\n        return \"#787878\";\n      })\n      .attr(\"x\", bars_x_margin - 100)\n      .attr(\"y\", function (d, i) {\n        return i * 90 + bars_margin + 3;\n      });\n\n    svg_bar_container\n      .selectAll(\"danceability_bars\")\n      .data(props.selected)\n      .enter()\n      .append(\"rect\")\n      .attr(\"width\", function (d, i) {\n        return d.danceability * bars_height;\n      })\n      .attr(\"height\", 5)\n      .attr(\"fill\", function (d, i) {\n        return colors[i % 10];\n      })\n      .attr(\"x\", bars_x_margin)\n      .attr(\"y\", function (d, i) {\n        return i * 90 + 2 * bars_margin;\n      });\n\n    svg_bar_container\n      .selectAll(\"danceability_bars_text\")\n      .data(props.selected)\n      .enter()\n      .append(\"text\")\n      .text(\"danceability\")\n      .attr(\"font-size\", \"0.6em\")\n      .attr(\"fill\", function (d, i) {\n        return \"#787878\";\n      })\n      .attr(\"x\", bars_x_margin - 100)\n      .attr(\"y\", function (d, i) {\n        return i * 90 + 2 * bars_margin + 3;\n      });\n\n    svg_bar_container\n      .selectAll(\"energy_bars\")\n      .data(props.selected)\n      .enter()\n      .append(\"rect\")\n      .attr(\"width\", function (d, i) {\n        return d.energy * bars_height;\n      })\n      .attr(\"height\", 5)\n      .attr(\"fill\", function (d, i) {\n        return colors[i % 10];\n      })\n      .attr(\"x\", bars_x_margin)\n      .attr(\"y\", function (d, i) {\n        return i * 90 + 3 * bars_margin;\n      });\n    svg_bar_container\n      .selectAll(\"energy_bars_text\")\n      .data(props.selected)\n      .enter()\n      .append(\"text\")\n      .text(\"energy\")\n      .attr(\"font-size\", \"0.6em\")\n      .attr(\"fill\", function (d, i) {\n        return \"#787878\";\n      })\n      .attr(\"x\", bars_x_margin - 100)\n      .attr(\"y\", function (d, i) {\n        return i * 90 + 3 * bars_margin + 3;\n      });\n\n    svg_bar_container\n      .selectAll(\"instrumentalness_bars\")\n      .data(props.selected)\n      .enter()\n      .append(\"rect\")\n      .attr(\"width\", function (d, i) {\n        return d.instrumentalness * bars_height;\n      })\n      .attr(\"height\", 5)\n      .attr(\"fill\", function (d, i) {\n        return colors[i % 10];\n      })\n      .attr(\"x\", bars_x_margin)\n      .attr(\"y\", function (d, i) {\n        return i * 90 + 4 * bars_margin;\n      });\n    svg_bar_container\n      .selectAll(\"instrumentalness_bars_text\")\n      .data(props.selected)\n      .enter()\n      .append(\"text\")\n      .text(\"instrumentalness\")\n      .attr(\"font-size\", \"0.6em\")\n      .attr(\"fill\", function (d, i) {\n        return \"#787878\";\n      })\n      .attr(\"x\", bars_x_margin - 100)\n      .attr(\"y\", function (d, i) {\n        return i * 90 + 4 * bars_margin + 3;\n      });\n\n    svg_bar_container\n      .selectAll(\"liveness_bars\")\n      .data(props.selected)\n      .enter()\n      .append(\"rect\")\n      .attr(\"width\", function (d, i) {\n        return d.liveness * bars_height;\n      })\n      .attr(\"height\", 5)\n      .attr(\"fill\", function (d, i) {\n        return colors[i % 10];\n      })\n      .attr(\"x\", bars_x_margin)\n      .attr(\"y\", function (d, i) {\n        return i * 90 + 5 * bars_margin;\n      });\n    svg_bar_container\n      .selectAll(\"liveness_bars_text\")\n      .data(props.selected)\n      .enter()\n      .append(\"text\")\n      .text(\"liveness\")\n      .attr(\"font-size\", \"0.6em\")\n      .attr(\"fill\", function (d, i) {\n        return \"#787878\";\n      })\n      .attr(\"x\", bars_x_margin - 100)\n      .attr(\"y\", function (d, i) {\n        return i * 90 + 5 * bars_margin + 3;\n      });\n\n    svg_bar_container\n      .selectAll(\"speechiness_bars\")\n      .data(props.selected)\n      .enter()\n      .append(\"rect\")\n      .attr(\"width\", function (d, i) {\n        return d.speechiness * bars_height;\n      })\n      .attr(\"height\", 5)\n      .attr(\"fill\", function (d, i) {\n        return colors[i % 10];\n      })\n      .attr(\"x\", bars_x_margin)\n      .attr(\"y\", function (d, i) {\n        return i * 90 + 6 * bars_margin;\n      });\n    svg_bar_container\n      .selectAll(\"speechiness_bars_text\")\n      .data(props.selected)\n      .enter()\n      .append(\"text\")\n      .text(\"speechiness\")\n      .attr(\"font-size\", \"0.6em\")\n      .attr(\"fill\", function (d, i) {\n        return \"#787878\";\n      })\n      .attr(\"x\", bars_x_margin - 100)\n      .attr(\"y\", function (d, i) {\n        return i * 90 + 6 * bars_margin + 3;\n      });\n\n    svg_bar_container\n      .selectAll(\"valence_bars\")\n      .data(props.selected)\n      .enter()\n      .append(\"rect\")\n      .attr(\"width\", function (d, i) {\n        return d.valence * bars_height;\n      })\n      .attr(\"height\", 5)\n      .attr(\"fill\", function (d, i) {\n        return colors[i % 10];\n      })\n      .attr(\"x\", bars_x_margin)\n      .attr(\"y\", function (d, i) {\n        return i * 90 + 7 * bars_margin;\n      });\n\n    svg_bar_container\n      .selectAll(\"valence_bars_text\")\n      .data(props.selected)\n      .enter()\n      .append(\"text\")\n      .text(\"valence\")\n      .attr(\"font-size\", \"0.6em\")\n      .attr(\"fill\", function (d, i) {\n        return \"#787878\";\n      })\n      .attr(\"x\", bars_x_margin - 100)\n      .attr(\"y\", function (d, i) {\n        return i * 90 + 7 * bars_margin + 3;\n      });\n\n    if (svg.empty()) {\n      container\n        .selectAll(\"legend\")\n        .data(props.selected)\n        .enter()\n        .append(\"div\")\n        .attr(\"class\", \"compare-legend\")\n        .style(\"opacity\", 0.5)\n        .style(\"margin-bottom\", \"5px\")\n        .style(\"background-color\", function (d, i) {\n          return colors[i % 10];\n        })\n        .text(function (d) {\n          if (d.genres) {\n            return d.genres;\n          } else if (d.name) {\n            return d.name;\n          } else if (d.artists) {\n            return d.artists;\n          } else return \"data problem?!\";\n        });\n\n      container\n        .selectAll(\".compare-legend\")\n        .on(\"click\", function (event, d) {\n          handleSelectedChange(d);\n        })\n\n        .on(\"mouseover\", function (event, d) {\n          d3.select(this).transition().duration(200).style(\"opacity\", 1);\n        });\n\n      container\n        .selectAll(\".compare-legend\")\n        .on(\"mouseout\", function (event, d) {\n          d3.select(this).transition().duration(200).style(\"opacity\", 0.5);\n        });\n    }\n  }, [props.selected]);\n\n  return (\n    <div\n      style={{\n        paddingLeft: \"20em\",\n      }}\n    >\n      <div className=\"row\">\n        <div className=\"col-md-4\">\n          <h2 className=\"title\"> Select musics from the list to compare. </h2>\n        </div>\n        <div className=\"col-md-6\"> </div>\n        <div className=\"col-md-2\">\n          <div\n            style={{\n              display: \"-webkit-inline-flex\",\n              marginTop: \"50px\",\n            }}\n          >\n            <img\n              style={{\n                textAlign: \"right\",\n                opacity: props.chartTypeValue == \"radar\" ? \"1\" : \"0.2\",\n              }}\n              src={radarIcon}\n              onClick={handleChartType}\n              alt=\"radar\"\n              id=\"radar\"\n            />\n            <img\n              id=\"bar\"\n              style={{\n                textAlign: \"right\",\n                marginLeft: \"20px\",\n                opacity: props.chartTypeValue == \"bar\" ? \"1\" : \"0.2\",\n              }}\n              src={barIcon}\n              onClick={handleChartType}\n              alt=\"bar\"\n            />\n          </div>\n        </div>\n      </div>\n      {props.chartTypeValue == \"radar\" ? (\n        <div\n          style={{\n            textAlign: \"center\",\n            marginTop: \"-48px\",\n          }}\n        >\n          <RadarChart\n            options={defaultOptions}\n            captions={{\n              acousticness: \"Acousticness\",\n              danceability: \"Danceability\",\n              energy: \"Energy\",\n              instrumentalness: \"Instrumentalness\",\n              liveness: \"Liveness\",\n              speechiness: \"Speechiness\",\n              valence: \"Valence\",\n            }}\n            data={adjusted_data}\n            size={props.device_height - 200}\n          />\n        </div>\n      ) : (\n        <svg\n          width=\"100%\"\n          height={props.device_height - 250}\n          ref={barRef}\n          id={\"svgBarChartContainer\"}\n        >\n          <g className=\"x-axis\" />\n          <g className=\"y-axis\" />\n        </svg>\n      )}\n      <div\n        ref={myRef}\n        id={\"svgCompareLegendsContainer\"}\n        style={{\n          display: \"-webkit-inline-flex\",\n          marginTop: \"-30px\",\n          flexWrap: \"wrap\",\n          alignContent: \"flex-start\",\n          justifyContent: \"start\",\n        }}\n      ></div>\n    </div>\n  );\n}\n\nfunction areEqual(prevProps, nextProps) {\n  console.log(prevProps === nextProps);\n}\nexport default React.memo(Compare, areEqual);\n","import React, { useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\nimport Slider from \"@material-ui/core/Slider\";\nimport Button from \"@material-ui/core/Button\";\nimport { nest } from 'd3-collection';\nfunction Selection(props) {\n  const selectionRef = useRef();\n  const [rangeValue, setRangeValue] = React.useState([\n    props.range_min_value,\n    props.range_max_value,\n  ]);\n\n  const handleRangeChange = (event, newValue) => {\n    let buffer = [...newValue];\n    setRangeValue(buffer);\n  };\n  const colors = {\n    selected: [],\n    notSelected: d3[\"schemeTableau10\"]\n  }\n  const handleRangeChangeConfirmed = () => {\n    if (rangeValue[1] - rangeValue[0] >= 5000) {\n      window.alert(\n        \"Your selected range cointains more than 5000 musics. It can affect the performance!\"\n      );\n    }\n    props.onRangeChange(rangeValue);\n  };\n\n  const handleSelectedChange = function (d) {\n    props.onSelectedChange(d);\n  };\n  useEffect(() => {\n    let container = d3.select(selectionRef.current);\n    var svg = container.select(\"#svgScatterContainer\");\n    if (svg.empty()) {\n      let container = d3.select(selectionRef.current);\n      var data = props.music_data.slice(\n        props.range_min_value,\n        props.range_max_value\n      );\n\n      props.selected.forEach((s) => {\n        if (!data.includes(s)) {\n          data.push(s);\n        }\n      });\n\n      svg = container\n        .append(\"svg\")\n        .attr(\"id\", \"svgScatterContainer\")\n        .attr(\"width\", props.device_width - 650)\n        .attr(\"height\", props.device_height - 268)\n        .call(\n          d3.zoom().on(\"zoom\", (event) => {\n            svg.attr(\"transform\", event.transform);\n          })\n        )\n        .append(\"g\")\n        .attr(\"transform\", \"translate(10,0)\");\n\n      var defs = svg.append(\"defs\");\n\n      //Filter for the outside glow\n      var filter = defs.append(\"filter\").attr(\"id\", \"glow\");\n      filter\n        .append(\"feGaussianBlur\")\n        .attr(\"stdDeviation\", \"1.2\")\n        .attr(\"result\", \"coloredBlur\");\n      var feMerge = filter.append(\"feMerge\");\n      feMerge.append(\"feMergeNode\").attr(\"in\", \"coloredBlur\");\n      feMerge.append(\"feMergeNode\").attr(\"in\", \"SourceGraphic\");\n\n      // Add X axis\n      var x, y\n      if (props.rDimensionMethod === \"pca\") {\n        x = d3\n          .scaleLinear()\n          .domain([-1, 1.5])\n          .range([0, props.device_width - 550]);\n\n        y = d3\n          .scaleLinear()\n          .domain([-.5, 1.2])\n          .range([props.device_height - 380, 0]);\n      } else {\n        x = d3\n          .scaleLinear()\n          .domain([-55, 65])\n          .range([0, props.device_width - 550]);\n\n        y = d3\n          .scaleLinear()\n          .domain([-45, 55])\n          .range([props.device_height - 380, 0]);\n      }\n\n      svg\n        .append(\"g\")\n        .attr(\"transform\", \"translate(0,0)\")\n        .call(d3.axisBottom(x))\n        .style(\"opacity\", 0);\n      svg.append(\"g\").call(d3.axisLeft(y)).style(\"opacity\", 0);\n\n\n\n      var nested = nest()\n        .key(function (d) {\n          if (props.classificationMethod === \"kmeans\")\n            return d.kmeans;\n          if (props.classificationMethod === \"hierarchical\")\n            if (props.hierarchicalMethod === \"ward\")\n              return d.ward;\n          if (props.hierarchicalMethod === \"average\")\n            return d.average;\n          if (props.hierarchicalMethod === \"single\")\n            return d.single;\n          if (props.hierarchicalMethod === \"complete\")\n            return d.complete;\n        })\n        .rollup(function (d) {\n          return d.map(function (v) {\n            if (props.rDimensionMethod === \"tsne\")\n              return [x(v.tsne1), y(v.tsne2)];\n            if (props.rDimensionMethod === \"pca\")\n              return [x(v.pca1), y(v.pca2)];\n          });\n        })\n        .entries(data);\n\n      if (props.convexHullsChecked) {\n\n        svg\n          .append(\"g\")\n          .attr(\"class\", \"hulls\")\n          .selectAll(\"polygon\")\n          .data(nested)\n          .enter()\n          .append(\"polygon\")\n          .attr(\"opacity\", 0.03)\n          .attr(\"stroke-width\", 30)\n          .attr(\"stroke-linejoin\", \"round\")\n          .attr(\"fill\", function (d) {\n            return colors.notSelected[d.key];\n          })\n          .attr(\"stroke\", function (d) {\n            return colors.notSelected[d.key];\n          })\n          .attr(\"points\", function (d) {\n            return d3.polygonHull(d.value);\n          });\n\n\n        svg\n          .selectAll(\"polygon\")\n          .on(\"mouseover\", function (event, d) {\n            d3.select(this)\n              .transition()\n              .duration(200)\n              .style(\"opacity\", .15)\n          })\n          .on(\"mouseout\", function (event, d) {\n            d3.select(this)\n              .transition()\n              .duration(200)\n              .style(\"opacity\", .03)\n          })\n\n\n\n\n      }\n      var legend = svg\n        .selectAll(\".legend\")\n        .data(nested)\n        .enter()\n        .append(\"g\")\n        .attr(\"class\", \"legend\")\n        .attr(\"transform\", function (d, i) {\n          return \"translate(0,\" + i * 20 + \")\";\n        });\n\n      legend\n        .append(\"rect\")\n        .attr(\"x\", props.device_width - 680 - 18)\n        .attr(\"width\", 18)\n        .attr(\"height\", 18)\n        .style(\"fill\", function (d) {\n          return colors.notSelected[d.key]\n        });\n\n      legend\n        .append(\"text\")\n        .attr(\"x\", props.device_width - 680 - 24)\n        .attr(\"y\", 9)\n        .attr(\"dy\", \".35em\")\n        .style(\"text-anchor\", \"end\")\n        .style(\"fill\", \"white \")\n        .text(function (d) {\n          if (\n            d !== -1)\n            return \"Class \" + d.key;\n          return \"Class undefined\";\n        });\n\n      // Add dots\n\n      svg\n        .append(\"g\")\n        .selectAll(\"dot\")\n        .data(data)\n        .enter()\n        .append(\"circle\")\n        .attr(\"cx\", function (d) {\n          if (props.rDimensionMethod === \"tsne\")\n            return x(d.tsne1);\n          else if (props.rDimensionMethod === \"pca\") {\n            return x(d.pca1);\n          }\n        })\n        .attr(\"cy\", function (d) {\n          if (props.rDimensionMethod === \"tsne\")\n            return y(d.tsne2);\n          else if (props.rDimensionMethod === \"pca\")\n            return y(d.pca2);\n        })\n        .attr(\"r\", 0)\n        .attr(\"style\", function (d) {\n          var col\n\n          if (props.classificationMethod === \"kmeans\") {\n            col = colors.notSelected[d.kmeans]\n          } else if (props.classificationMethod === \"optics\") {\n            // col = colors.notSelected[d.optics] //\n          } else if (props.classificationMethod === \"hierarchical\") {\n            switch (props.hierarchicalMethod) {\n              case \"ward\":\n                col = colors.notSelected[d.ward]\n                if (d.ward == -1) col = \"#ffffff\"\n                break;\n              case \"complete\":\n                col = colors.notSelected[d.complete]\n                if (d.complete == -1) col = \"#ffffff\"\n                break;\n              case \"average\":\n                col = colors.notSelected[d.average]\n                if (d.average == -1) col = \"#ffffff\"\n                break;\n              case \"single\":\n                col = colors.notSelected[d.single]\n                if (d.single == -1) col = \"#ffffff\"\n                break;\n              default:\n                break;\n            }\n          }\n\n          if (props.selected.has(d))\n            return `  fill: ` + col + `;\n                  opacity: 1;`;\n          else\n            return `  fill: ` + col + `;\n                  opacity: 0.5;`;\n        });\n\n      svg\n        .selectAll(\"circle\")\n        .transition() //values after transition\n        .delay(function (d, i) {\n          return i * 0.5;\n        })\n        .duration(1000)\n        .style(\"filter\", function (d, i) {\n          if (props.selected.has(d)) {\n            return \"url(#glow)\";\n          } else {\n            return \"\";\n          }\n        })\n        .attr(\"fill\", function (d, i) {\n          if (props.selected.has(d)) {\n            return \"#43D38E\";\n          } else {\n            return \"#8dac96\";\n          }\n        })\n        .attr(\"r\", function (d, i) {\n          if (props.selected.has(d)) {\n            return 8;\n          } else {\n            return 2;\n          }\n        });\n\n      svg\n        .selectAll(\"circle\")\n        .on(\"click\", function (e, d) {\n          handleSelectedChange(d);\n        })\n\n        .on(\"mouseover\", function (event, d) {\n          d3.select(this)\n            .transition()\n            .duration(200)\n            .attr(\"r\", 8)\n            .style(\"opacity\", 1);\n\n          var X, Y\n          if (props.rDimensionMethod === \"tsne\") {\n            X = d.tsne1\n            Y = d.tsne2\n          }\n          else if (props.rDimensionMethod === \"pca\") {\n            X = d.pca1\n            Y = d.pca2\n          }\n          var html =\n            \"<b>\" +\n            \"-\" +\n            d.name +\n            \"</b> <br/>\" +\n            \"(X=\" +\n            Number.parseFloat(X).toPrecision(3) +\n            \", Y=\" +\n            \"<span>\" +\n            Number.parseFloat(Y).toPrecision(3) +\n            \")</span>\";\n\n          tooltip\n            .html(html)\n            .style(\"left\", event.pageX + 38 + \"px\")\n            .style(\"top\", event.pageY - 28 + \"px\")\n            .transition()\n            .duration(500) // ms\n            .style(\"opacity\", 0.9); // started as 0!\n        })\n        .on(\"mouseout\", function (event, d) {\n          d3.select(this)\n            .transition()\n            .duration(200)\n            .attr(\"transform\", \"scale(1)\");\n\n          if (!props.selected.has(d)) {\n            d3.select(this)\n              .transition()\n              .duration(200)\n              .attr(\"r\", function (e) {\n                if (!props.selected.has(d)) {\n                  return 2;\n                }\n              });\n          }\n\n          tooltip\n            .transition()\n            .duration(300) // ms\n            .style(\"opacity\", 0); // don't care about position!\n        });\n      //adding tt\n      var tooltip = container\n        .append(\"div\")\n        .attr(\"class\", \"tooltip\")\n        .style(\"padding\", \"10px\")\n        .style(\"opacity\", 0);\n    }\n  }, [props.range_min_value, props.range_max_value]);\n\n  return (\n    <div\n      style={{\n        paddingLeft: \"20em\",\n      }}\n    >\n      <h2 className=\"title\">\n        Select a music from the left list, or select music from the plot. Closer\n        nodes (musics) means similarity between musics!\n      </h2>\n\n      <div\n        ref={selectionRef}\n        id={\"scatterContainer\"}\n        style={{ height: props.device_height - 268 }}\n      ></div>\n\n      <div style={{ display: \"-webkit-inline-flex\", marginTop: \"+10px\" }}>\n        <Slider\n          style={{ width: \"\" + (props.device_width - 750) + \"px\" }}\n          className=\"range-slider\"\n          value={rangeValue}\n          min={0}\n          step={250}\n          max={69750}\n          onChange={handleRangeChange}\n          valueLabelDisplay=\"auto\"\n          aria-labelledby=\"range-slider\"\n        />\n        <Button\n          color=\"secondary\"\n          onClick={handleRangeChangeConfirmed}\n          style={{ marginLeft: \"30px\", marginTop: \"-5px\" }}\n        >\n          Change Music Range\n        </Button>\n      </div>\n    </div>\n  );\n}\nfunction areEqual(prevProps, nextProps) {\n  console.log(prevProps === nextProps);\n}\nexport default React.memo(Selection, areEqual);\n","export default __webpack_public_path__ + \"static/media/data_by_year.53a349c4.csv\";","export default __webpack_public_path__ + \"static/media/line_for_songs_genre_count.0588915e.csv\";","import React, { useEffect, useRef } from \"react\";\r\nimport * as d3 from \"d3\";\r\nimport line_for_songs_genre_count_location from \"../dataset/line_for_songs_genre_count.csv\";\r\nimport { color } from \"d3\";\r\n\r\nexport default function GenreOverYears(props) {\r\n    const myRef = useRef();\r\n    const colors = d3[\"schemeTableau10\"];\r\n\r\n    useEffect(() => {\r\n        let container = d3.select(myRef.current);\r\n        var margin = {\r\n            top: 20,\r\n            right: 40,\r\n            bottom: 30,\r\n            left: 50,\r\n        },\r\n            width = props.device_width - margin.left - margin.right,\r\n            height = props.device_height - 200 - margin.bottom;\r\n\r\n        // set the ranges\r\n        var y = d3.scaleLinear().range([height, 0]);\r\n\r\n        // define the area\r\n\r\n\r\n        var svg = container.select(\"#svgOverYearsContainer\");\r\n        if (svg.empty()) {\r\n            svg = container\r\n                .append(\"svg\")\r\n                .attr(\"id\", \"svgOverYearsContainer\")\r\n                .attr(\"width\", width + margin.left + margin.right)\r\n                .attr(\"height\", height + margin.top + margin.bottom)\r\n                .append(\"g\")\r\n                .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n\r\n            // Get the data\r\n            d3.csv(line_for_songs_genre_count_location).then(function (data) {\r\n                // format the data\r\n                const sumstat = d3.group(data, d => d.rf_label);\r\n                // Scale the range of the data\r\n\r\n\r\n                var x = d3.scaleLinear().range([0, width]);\r\n                x.domain([1920, 2021]);\r\n\r\n                svg\r\n                    .append(\"g\")\r\n                    .attr(\"transform\", \"translate(0,\" + height + \")\")\r\n                    .call(d3.axisBottom(x).ticks(40).tickFormat(d3.format(\"d\")))\r\n                    .selectAll(\"text\")\r\n                    .attr(\"y\", 10)\r\n                    .attr(\"fill\", \"#fff\")\r\n                    .attr(\"opacity\", \"0.6\")\r\n                    .attr(\"dy\", \".35em\")\r\n                    .attr(\"transform\", \"rotate(45)\")\r\n                    .style(\"text-anchor\", \"start\");\r\n\r\n                const y = d3.scaleLinear()\r\n                    .domain([0, d3.max(data, function (d) { return +d.count; })])\r\n                    .range([height, 0]);\r\n\r\n                svg.append(\"g\")\r\n                    .call(d3.axisLeft(y))\r\n                    .selectAll(\"text\")\r\n                    .attr(\"fill\", \"#fff\")\r\n                    .attr(\"opacity\", \"0.6\")\r\n\r\n                const color = d3.scaleOrdinal()\r\n                    .range(['#e41a1c', '#377eb8', '#4daf4a', '#984ea3', '#ff7f00', '#ffff33', '#a65628', '#f781bf', '#999999'])\r\n\r\n\r\n                var legend = svg\r\n                    .selectAll(\".legend\")\r\n                    .data(sumstat)\r\n                    .enter()\r\n                    .append(\"g\")\r\n                    .attr(\"class\", \"legend\")\r\n                    .attr(\"transform\", function (d, i) {\r\n                        return \"translate(0,\" + i * 20 + \")\";\r\n                    });\r\n\r\n                legend\r\n                    .append(\"rect\")\r\n                    .attr(\"x\", width - 18)\r\n                    .attr(\"width\", 18)\r\n                    .attr(\"height\", 18)\r\n                    .style(\"fill\", function (d) {\r\n                        return color(d[0])\r\n                    });\r\n\r\n                legend\r\n                    .append(\"text\")\r\n                    .attr(\"x\", width - 24)\r\n                    .attr(\"y\", 9)\r\n                    .attr(\"dy\", \".35em\")\r\n                    .style(\"text-anchor\", \"end\")\r\n                    .style(\"fill\", \"white \")\r\n                    .text(function (d) {\r\n                        return d[0]\r\n                    });\r\n\r\n                svg.selectAll(\".line\")\r\n                    .data(sumstat)\r\n                    .join(\"path\")\r\n                    .attr(\"fill\", \"none\")\r\n                    .attr(\"stroke\", function (d) { return color(d[0]) })\r\n                    .attr(\"stroke-width\", 1.5)\r\n                    .attr(\"d\", function (d) {\r\n                        return d3.line()\r\n                            .x(function (d) { return x(d.year); })\r\n                            .y(function (d) { return y(+d.count); })\r\n                            (d[1])\r\n                    })\r\n            })\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div ref={myRef}> </div>\r\n        </>\r\n    );\r\n}\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport * as d3 from \"d3\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { nest } from 'd3-collection';\r\nexport default function BubbleChart(props) {\r\n    const BubbleChartRef = useRef();\r\n\r\n    const [init, setInit] = React.useState(false);\r\n    var x_axis = props.x_axis\r\n    var y_axis = props.y_axis\r\n    var bubble_color = props.bubble_color\r\n    var bubble_size = props.bubble_size\r\n\r\n    const color = d3.color()\r\n    var margin = {\r\n        top: 20,\r\n        right: 40,\r\n        bottom: 30,\r\n        left: 50,\r\n    },\r\n        width = (props.device_width - margin.left - margin.right) - 500,\r\n        height = (props.device_height - margin.top - margin.bottom) - 100\r\n    useEffect(() => {\r\n\r\n\r\n        let svg = d3.select(BubbleChartRef.current);\r\n\r\n        var data = props.music_data\r\n\r\n        var year_data = data.filter((d) => Number(d[\"year\"]) === Number(props.selectedYear));\r\n        // svg = container\r\n        //     .append(\"svg\")\r\n        //     .attr(\"id\", \"svgBubbleContainer\")\r\n        //     .attr(\"width\", width + margin.left + margin.right)\r\n        //     .attr(\"height\", height + margin.top + margin.bottom)\r\n        //     .append(\"g\")\r\n        //     .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n\r\n        // Add X axis\r\n        var x, y\r\n\r\n        var color = d3.scaleLinear()\r\n            .domain([0, 1])\r\n            .range([\"orange\", \"red\"]);\r\n\r\n\r\n\r\n        x = d3\r\n            .scaleLinear()\r\n            .domain([0, 1])\r\n            .range([0, width]);\r\n        y = d3\r\n            .scaleLinear()\r\n            .domain([0, 1])\r\n            .range([height, 0]);\r\n\r\n        if (!init) {\r\n\r\n            let x_height = height - 20\r\n            svg\r\n                .append(\"g\")\r\n                .attr(\"id\", \"x-axis\")\r\n                .attr(\"transform\", \"translate(0,\" + x_height + \")\")\r\n                .call(d3.axisBottom(x))\r\n                .selectAll(\"text\")\r\n                .attr(\"fill\", \"#fff\")\r\n                .attr(\"opacity\", \"0.6\")\r\n\r\n            svg.append(\"g\")\r\n                .attr(\"transform\", \"translate(\" + 20 + \", 0)\")\r\n                .attr(\"id\", \"y-axis\")\r\n                .call(d3.axisLeft(y))\r\n                .selectAll(\"text\")\r\n                .attr(\"fill\", \"#fff\")\r\n                .attr(\"opacity\", \"0.6\")\r\n\r\n            setInit(true)\r\n        }\r\n\r\n        svg\r\n            .selectAll(\"circle\").remove()\r\n\r\n        svg\r\n            .selectAll(\"circle\")\r\n            .data(year_data)\r\n            .enter()\r\n            .append(\"circle\")\r\n            .attr(\"cx\", function (d, i) {\r\n                return x(d[x_axis]) + 10\r\n            })\r\n            .attr(\"cy\", function (d) {\r\n                return y(d[y_axis]) - 20\r\n            })\r\n            .attr(\"r\", function (d) {\r\n                return d[bubble_size] * 15 + 2;\r\n            })\r\n            .attr(\"style\", function (d) {\r\n                console.log(color(d[bubble_color]));\r\n                return \"fill: \" + color(d[bubble_color])\r\n            });\r\n\r\n        console.log(props.x_axis);\r\n    }, [props.music_data, props.x_axis, props.y_axis, props.bubble_size, props.bubble_color, props.selectedYear]);\r\n\r\n    return (\r\n\r\n        <svg ref={BubbleChartRef} className='bubble-chart-svg'\r\n            width={width}\r\n            height={height}\r\n        />\r\n    );\r\n}","export default __webpack_public_path__ + \"static/media/pie_artists_genre.d7bd5237.csv\";","\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport * as d3 from \"d3\";\r\nimport pie_artists_genre_loc from \"../dataset/pie_artists_genre.csv\";\r\n\r\nexport default function PieArtist(props) {\r\n    const myRef = useRef();\r\n    const colors = d3[\"schemeTableau10\"];\r\n\r\n    useEffect(() => {\r\n        let container = d3.select(myRef.current);\r\n        var margin = {\r\n            top: 20,\r\n            right: 40,\r\n            bottom: 30,\r\n            left: 50,\r\n        },\r\n            width = props.device_width - margin.left - margin.right,\r\n            height = props.device_height - 200 - margin.bottom;\r\n\r\n        // set the ranges\r\n        var x = d3.scaleLinear().range([0, width]);\r\n        var y = d3.scaleLinear().range([height, 0]);\r\n\r\n        // define the area\r\n\r\n\r\n        var svg = container.select(\"#svgPieContainer\");\r\n        if (svg.empty()) {\r\n            svg = container\r\n                .append(\"svg\")\r\n                .attr(\"id\", \"svgPieContainer\")\r\n                .attr(\"width\", width + margin.left + margin.right)\r\n                .attr(\"height\", height + margin.top + margin.bottom)\r\n                .append(\"g\")\r\n                .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n\r\n            // Get the data\r\n            d3.csv(pie_artists_genre_loc).then(function (data) {\r\n\r\n                // set the color scale\r\n                var color = d3.scaleOrdinal()\r\n                    .domain(data)\r\n                    .range(d3.schemeTableau10);\r\n\r\n                // X axis\r\n                const x = d3.scaleBand()\r\n                    .range([0, width])\r\n                    .domain(data.map(d => d.rf_label))\r\n                    .padding(0.2);\r\n                svg.append(\"g\")\r\n                    .attr(\"transform\", `translate(0, ${height})`)\r\n                    .call(d3.axisBottom(x))\r\n                    .selectAll(\"text\")\r\n                    .attr(\"fill\", \"#f1f1f1\")\r\n                    .style(\"text-anchor\", \"end\");\r\n\r\n                // Add Y axis\r\n                const y = d3.scaleLinear()\r\n                    .domain([0, 17200])\r\n                    .range([height, 0]);\r\n                svg.append(\"g\")\r\n                    .call(d3.axisLeft(y))\r\n                    .selectAll(\"text\")\r\n                    .attr(\"fill\", \"#f1f1f1\");\r\n\r\n                // Bars\r\n                svg.selectAll(\"mybar\")\r\n                    .data(data)\r\n                    .join(\"rect\")\r\n                    .attr(\"x\", d => x(d.rf_label))\r\n                    .attr(\"y\", d => y(d.artists))\r\n                    .attr(\"width\", x.bandwidth())\r\n                    .attr(\"height\", d => height - y(d.artists))\r\n                    .attr(\"fill\", d => {\r\n                        return color(d.rf_label)\r\n                    })\r\n\r\n            })\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div ref={myRef}> </div>\r\n        </>\r\n    );\r\n}\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport * as d3 from \"d3\";\r\nimport year_data from \"../dataset/data_by_year.csv\";\r\nimport { color } from \"d3\";\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell, { tableCellClasses } from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport { styled } from '@mui/material/styles';\r\nimport Paper from '@mui/material/Paper';\r\nimport FormGroup from '@mui/material/FormGroup';\r\nimport InputLabel from '@mui/material/InputLabel';\r\nimport Select from '@mui/material/Select';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport GenreOverYears from './GenreOverYears'\r\nimport BubbleChart from './BubbleChart'\r\nimport Slider from '@mui/material/Slider';\r\nimport Stack from '@mui/material/Stack';\r\nimport PieArtist from './PieArtist'\r\nexport default function General(props) {\r\n    const overyearsRef = useRef();\r\n    const overyearsGenreRef = useRef();\r\n    const colors = d3[\"schemeTableau10\"];\r\n\r\n    const [x_axis, set_x_axis] = React.useState(\"danceability\");\r\n    const [y_axis, set_y_axis] = React.useState(\"valence\");\r\n    const [bubble_color, set_color] = React.useState(\"acousticness\");\r\n    const [bubble_size, set_bubble] = React.useState(\"instrumentalness\");\r\n    const [selectedYear, setSelectedYear] = React.useState(1980);\r\n\r\n    var selectedAttributes = props.selectedAttributes;\r\n    var handleSelectedChange = props.handleAttributesChange;\r\n\r\n    useEffect(() => {\r\n        let container = d3.select(overyearsRef.current);\r\n        let overyearsGenreContainer = d3.select(overyearsGenreRef.current);\r\n        var margin = {\r\n            top: 20,\r\n            right: 40,\r\n            bottom: 30,\r\n            left: 50,\r\n        },\r\n            width = props.device_width - margin.left - margin.right,\r\n            height = props.device_height - 200 - margin.bottom - 250;\r\n\r\n        // set the ranges\r\n        var x = d3.scaleLinear().range([0, width]);\r\n        var y = d3.scaleLinear().range([height, 0]);\r\n\r\n        // define the area\r\n        var area_energy = d3\r\n            .area()\r\n            .x(function (d) {\r\n                return x(d.year);\r\n            })\r\n            .y0(height)\r\n            .y1(function (d) {\r\n                return y(d.energy);\r\n            });\r\n\r\n        var area_valence = d3\r\n            .area()\r\n            .x(function (d) {\r\n                return x(d.year);\r\n            })\r\n            .y0(height)\r\n            .y1(function (d) {\r\n                return y(d.valence);\r\n            });\r\n\r\n        var area_acousticness = d3\r\n            .area()\r\n            .x(function (d) {\r\n                return x(d.year);\r\n            })\r\n            .y0(height)\r\n            .y1(function (d) {\r\n                return y(d.acousticness);\r\n            });\r\n\r\n        var area_danceability = d3\r\n            .area()\r\n            .x(function (d) {\r\n                return x(d.year);\r\n            })\r\n            .y0(height)\r\n            .y1(function (d) {\r\n                return y(d.danceability);\r\n            });\r\n\r\n        var area_instrumentalness = d3\r\n            .area()\r\n            .x(function (d) {\r\n                return x(d.year);\r\n            })\r\n            .y0(height)\r\n            .y1(function (d) {\r\n                return y(d.instrumentalness);\r\n            });\r\n\r\n        var area_liveness = d3\r\n            .area()\r\n            .x(function (d) {\r\n                return x(d.year);\r\n            })\r\n            .y0(height)\r\n            .y1(function (d) {\r\n                return y(d.liveness);\r\n            });\r\n\r\n        var area_speechiness = d3\r\n            .area()\r\n            .x(function (d) {\r\n                return x(d.year);\r\n            })\r\n            .y0(height)\r\n            .y1(function (d) {\r\n                return y(d.speechiness);\r\n            });\r\n\r\n        var svg = container.select(\"#svgOverYearsContainer\");\r\n\r\n        //process the pie chart\r\n        if (svg.empty()) {\r\n            svg = container\r\n                .append(\"svg\")\r\n                .attr(\"id\", \"svgOverYearsContainer\")\r\n                .attr(\"width\", width + margin.left + margin.right)\r\n                .attr(\"height\", height + margin.top + margin.bottom)\r\n                .append(\"g\")\r\n                .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n\r\n            // Get the data\r\n            d3.csv(year_data).then(function (data) {\r\n                // format the data\r\n                data.forEach(function (d) {\r\n                    d.year = Number(d.year);\r\n                    d.energy = Number(d.energy);\r\n                    d.valence = Number(d.valence);\r\n                });\r\n\r\n                // Scale the range of the data\r\n                x.domain([1920, 2021]);\r\n                y.domain([0, 1]);\r\n\r\n                var defs = svg.append(\"defs\");\r\n\r\n                var gradient = defs\r\n                    .append(\"linearGradient\")\r\n                    .attr(\"id\", \"svgGradient0\")\r\n                    .attr(\"gradientTransform\", \"rotate(90)\");\r\n                gradient\r\n                    .append(\"stop\")\r\n                    .attr(\"offset\", \"5%\")\r\n                    .attr(\"stop-color\", colors[0])\r\n                    .attr(\"stop-opacity\", 0.4);\r\n                gradient\r\n                    .append(\"stop\")\r\n                    .attr(\"offset\", \"95%\")\r\n                    .attr(\"stop-color\", colors[0])\r\n                    .attr(\"stop-opacity\", 0.05);\r\n\r\n                // Add the area.\r\n                if (selectedAttributes.includes(\"acousticness\"))\r\n                    svg\r\n                        .append(\"path\")\r\n                        .data([data])\r\n                        .attr(\"class\", \"area\")\r\n                        .attr(\"d\", area_acousticness)\r\n                        .attr(\"fill\", colors[0])\r\n                        .attr(\"opacity\", \"0.4\");\r\n                if (selectedAttributes.includes(\"danceability\"))\r\n                    svg\r\n                        .append(\"path\")\r\n                        .data([data])\r\n                        .attr(\"class\", \"area\")\r\n                        .attr(\"d\", area_danceability)\r\n                        .attr(\"fill\", colors[1])\r\n                        .attr(\"opacity\", \"0.4\");\r\n\r\n                if (selectedAttributes.includes(\"valence\"))\r\n                    svg\r\n                        .append(\"path\")\r\n                        .data([data])\r\n                        .attr(\"class\", \"area\")\r\n                        .attr(\"d\", area_valence)\r\n                        .attr(\"fill\", colors[6])\r\n                        .attr(\"opacity\", \"0.4\");\r\n\r\n                if (selectedAttributes.includes(\"energy\"))\r\n                    svg\r\n                        .append(\"path\")\r\n                        .data([data])\r\n                        .attr(\"class\", \"area\")\r\n                        .attr(\"d\", area_energy)\r\n                        .attr(\"fill\", colors[2])\r\n                        .attr(\"opacity\", \"0.4\");\r\n\r\n                if (selectedAttributes.includes(\"instrumentalness\"))\r\n                    svg\r\n                        .append(\"path\")\r\n                        .data([data])\r\n                        .attr(\"class\", \"area\")\r\n                        .attr(\"d\", area_instrumentalness)\r\n                        .attr(\"fill\", colors[3])\r\n                        .attr(\"opacity\", \"0.4\");\r\n\r\n                if (selectedAttributes.includes(\"liveness\"))\r\n                    svg\r\n                        .append(\"path\")\r\n                        .data([data])\r\n                        .attr(\"class\", \"area\")\r\n                        .attr(\"d\", area_liveness)\r\n                        .attr(\"fill\", colors[4])\r\n                        .attr(\"opacity\", \"0.4\");\r\n\r\n                if (selectedAttributes.includes(\"speechiness\"))\r\n                    svg\r\n                        .append(\"path\")\r\n                        .data([data])\r\n                        .attr(\"class\", \"area\")\r\n                        .transition()\r\n                        .duration(2500)\r\n                        .attr(\"d\", area_speechiness)\r\n                        .attr(\"fill\", colors[5])\r\n                        .attr(\"opacity\", \"0.4\");\r\n\r\n                svg.selectAll(\"path\").on(\"mouseover\", function (e) {\r\n                    d3.select(this).attr(\"opacity\", \"1\");\r\n                });\r\n\r\n                svg.selectAll(\"path\").on(\"mouseout\", function (e) {\r\n                    d3.select(this).attr(\"opacity\", \"0.4\");\r\n                });\r\n\r\n                // Add the X Axis\r\n                svg\r\n                    .append(\"g\")\r\n                    .attr(\"transform\", \"translate(0,\" + height + \")\")\r\n                    .call(d3.axisBottom(x).ticks(40).tickFormat(d3.format(\"d\")))\r\n                    .selectAll(\"text\")\r\n                    .attr(\"y\", 10)\r\n                    .attr(\"fill\", \"#fff\")\r\n                    .attr(\"opacity\", \"0.6\")\r\n                    .attr(\"dy\", \".35em\")\r\n                    .attr(\"transform\", \"rotate(45)\")\r\n                    .style(\"text-anchor\", \"start\");\r\n\r\n                // Add the Y Axis\r\n                svg\r\n                    .append(\"g\")\r\n                    .call(d3.axisLeft(y).ticks(2))\r\n                    .selectAll(\"text\")\r\n                    .attr(\"x\", -20)\r\n                    .attr(\"fill\", \"#fff\")\r\n                    .attr(\"opacity\", \"0.2\")\r\n                    .attr(\"dy\", \".35em\")\r\n                    .style(\"text-anchor\", \"start\");\r\n            });\r\n        }\r\n    }, [selectedAttributes]);\r\n\r\n    const StyledTableCell = styled(TableCell)(({ theme }) => ({\r\n        [`&.${tableCellClasses.head}`]: {\r\n            backgroundColor: \"#101010\",\r\n            color: theme.palette.common.white,\r\n        },\r\n        [`&.${tableCellClasses.body}`]: {\r\n            fontSize: 14,\r\n        },\r\n    }));\r\n\r\n    const StyledTableRow = styled(TableRow)(({ theme }) => ({\r\n        '&:nth-of-type(odd)': {\r\n            backgroundColor: theme.palette.action.hover,\r\n            color: theme.palette.common.white,\r\n        },\r\n        // hide last border\r\n        '&:last-child td, &:last-child th': {\r\n            border: 0,\r\n        },\r\n    }));\r\n\r\n    function createData(name, danceability, energy, liveness, speechiness, tempo, valence, popularity) {\r\n        danceability = Math.round(danceability * 1000) / 1000\r\n        energy = Math.round(energy * 1000) / 1000\r\n        liveness = Math.round(liveness * 1000) / 1000\r\n        speechiness = Math.round(speechiness * 1000) / 1000\r\n        tempo = Math.round(tempo * 1000) / 1000\r\n        valence = Math.round(valence * 1000) / 1000\r\n        return { name, danceability, energy, liveness, speechiness, tempo, valence, popularity };\r\n    }\r\n\r\n    const rows = [\r\n        createData('Nowhere To Run', Math.random(), Math.random(), Math.random(), Math.random(), Math.random(), Math.random(), Math.floor(Math.random() * 100)),\r\n        createData('It Was A Very Good Year', Math.random(), Math.random(), Math.random(), Math.random(), Math.random(), Math.random(), Math.floor(Math.random() * 100)),\r\n        createData('Do-Re-Mi', Math.random(), Math.random(), Math.random(), Math.random(), Math.random(), Math.random(), Math.floor(Math.random() * 100)),\r\n        createData('I Found You', Math.random(), Math.random(), Math.random(), Math.random(), Math.random(), Math.random(), Math.floor(Math.random() * 100)),\r\n        createData('High Power', Math.random(), Math.random(), Math.random(), Math.random(), Math.random(), Math.random(), Math.floor(Math.random() * 100)),\r\n    ];\r\n    return (\r\n        <div>\r\n            <h2 className=\"title\">The dataset is like:</h2>\r\n            <div style={{ width: \"100vw\" }}>\r\n                <TableContainer component={Paper} sx={{ maxWidth: 1200, margin: \"auto\" }}>\r\n                    <Table sx={{ minWidth: 700 }} aria-label=\"customized table\">\r\n                        <TableHead>\r\n                            <TableRow>\r\n                                <StyledTableCell>Name</StyledTableCell>\r\n                                <StyledTableCell align=\"right\">Danceability</StyledTableCell>\r\n                                <StyledTableCell align=\"right\">Energy</StyledTableCell>\r\n                                <StyledTableCell align=\"right\">Liveness</StyledTableCell>\r\n                                <StyledTableCell align=\"right\">Speechiness</StyledTableCell>\r\n                                <StyledTableCell align=\"right\">Tempo</StyledTableCell>\r\n                                <StyledTableCell align=\"right\">Valence</StyledTableCell>\r\n                                <StyledTableCell align=\"right\">Popularity</StyledTableCell>\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                            {rows.map((row) => (\r\n                                <StyledTableRow key={row.name}>\r\n                                    <StyledTableCell component=\"th\" scope=\"row\">\r\n                                        {row.name}\r\n                                    </StyledTableCell>\r\n                                    <StyledTableCell align=\"right\">{row.danceability}</StyledTableCell>\r\n                                    <StyledTableCell align=\"right\">{row.energy}</StyledTableCell>\r\n                                    <StyledTableCell align=\"right\">{row.liveness}</StyledTableCell>\r\n                                    <StyledTableCell align=\"right\">{row.speechiness}</StyledTableCell>\r\n                                    <StyledTableCell align=\"right\">{row.tempo}</StyledTableCell>\r\n                                    <StyledTableCell align=\"right\">{row.valence}</StyledTableCell>\r\n                                    <StyledTableCell align=\"right\">{row.popularity}</StyledTableCell>\r\n                                </StyledTableRow>\r\n                            ))}\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n            </div>\r\n            <h2 className=\"title\">Music feature changes over the years (1920 - 2021)</h2>\r\n            <div\r\n                id={\"featuresContainer\"}\r\n                style={{\r\n                    height: \"70px\",\r\n                    display: \"-webkit-inline-flex\",\r\n                    marginTop: \"30px\",\r\n                    marginLeft: \"+80px\",\r\n                    flexWrap: \"wrap\",\r\n                    alignContent: \"flex-start\",\r\n                    justifyContent: \"start\",\r\n                }}\r\n            >\r\n                <div\r\n                    id=\"acousticness\"\r\n                    class=\"compare-legend\"\r\n                    onClick={handleSelectedChange}\r\n                    style={{\r\n                        opacity: selectedAttributes.includes(\"acousticness\") ? \"1\" : \"0.5\",\r\n                        marginBottom: \"5px\",\r\n                        backgroundColor: colors[0],\r\n                    }}\r\n                >\r\n                    Acousticness\r\n                </div>\r\n                <div\r\n                    id=\"danceability\"\r\n                    class=\"compare-legend\"\r\n                    onClick={handleSelectedChange}\r\n                    style={{\r\n                        opacity: selectedAttributes.includes(\"danceability\") ? \"1\" : \"0.5\",\r\n                        marginBottom: \"5px\",\r\n                        backgroundColor: colors[1],\r\n                    }}\r\n                >\r\n                    Danceability\r\n                </div>\r\n                <div\r\n                    id=\"energy\"\r\n                    class=\"compare-legend\"\r\n                    onClick={handleSelectedChange}\r\n                    style={{\r\n                        opacity: selectedAttributes.includes(\"energy\") ? \"1\" : \"0.5\",\r\n                        marginBottom: \"5px\",\r\n                        backgroundColor: colors[2],\r\n                    }}\r\n                >\r\n                    Energy\r\n                </div>\r\n                <div\r\n                    id=\"instrumentalness\"\r\n                    class=\"compare-legend\"\r\n                    onClick={handleSelectedChange}\r\n                    style={{\r\n                        opacity: selectedAttributes.includes(\"instrumentalness\")\r\n                            ? \"1\"\r\n                            : \"0.5\",\r\n                        marginBottom: \"5px\",\r\n                        backgroundColor: colors[3],\r\n                    }}\r\n                >\r\n                    Instrumentalness\r\n                </div>\r\n                <div\r\n                    id=\"liveness\"\r\n                    class=\"compare-legend\"\r\n                    onClick={handleSelectedChange}\r\n                    style={{\r\n                        opacity: selectedAttributes.includes(\"liveness\") ? \"1\" : \"0.5\",\r\n                        marginBottom: \"5px\",\r\n                        backgroundColor: colors[4],\r\n                    }}\r\n                >\r\n                    Liveness\r\n                </div>\r\n                <div\r\n                    id=\"speechiness\"\r\n                    class=\"compare-legend\"\r\n                    onClick={handleSelectedChange}\r\n                    style={{\r\n                        opacity: selectedAttributes.includes(\"speechiness\") ? \"1\" : \"0.5\",\r\n                        marginBottom: \"5px\",\r\n                        backgroundColor: colors[5],\r\n                    }}\r\n                >\r\n                    Speechiness\r\n                </div>\r\n                <div\r\n                    id=\"valence\"\r\n                    class=\"compare-legend\"\r\n                    onClick={handleSelectedChange}\r\n                    style={{\r\n                        opacity: selectedAttributes.includes(\"valence\") ? \"1\" : \"0.5\",\r\n                        marginBottom: \"5px\",\r\n                        backgroundColor: colors[6],\r\n                    }}\r\n                >\r\n                    Valence\r\n                </div>\r\n            </div>\r\n\r\n            <div ref={overyearsRef}> </div>\r\n            <hr></hr>\r\n            <div style={{ display: \"-webkit-inline-flex\" }}>\r\n                <div>\r\n                    <h2 className=\"title\">Number of songs in specific genre per year</h2>\r\n                    <GenreOverYears device_width={props.device_width / 2} device_height={props.device_height - 250}></GenreOverYears>\r\n                </div>\r\n                <div>\r\n                    <h2 className=\"title\">Number of artists per genre</h2>\r\n                    <PieArtist device_width={props.device_width / 2} device_height={props.device_height - 250}></PieArtist>\r\n                </div>\r\n            </div>\r\n            <br />\r\n            <br />\r\n            <h2 className=\"title\">Bubble chart visualization</h2>\r\n            <br />\r\n            <div style={{ display: \"-webkit-inline-flex\", }}>\r\n                <BubbleChart selectedYear={selectedYear} bubble_size={bubble_size} bubble_color={bubble_color} x_axis={x_axis} y_axis={y_axis} device_height={props.device_height} device_width={props.device_width} music_data={props.music_data}></BubbleChart>\r\n\r\n                <div style={{ display: \"block\", marginLeft: \"50px\" }}>\r\n\r\n                    <FormGroup>\r\n                        <InputLabel style={{ marginTop: \"20px\", color: \"gray\" }} id=\"demo-simple-select-label\">Axis X</InputLabel>\r\n                        <Select\r\n                            style={{ color: \"white\" }}\r\n                            native={false}\r\n                            value={x_axis}\r\n                            label=\"Axis X\"\r\n                            onChange={(event) => {\r\n                                set_x_axis(event.target.value);\r\n                            }}\r\n                        >\r\n                            <MenuItem value={\"acousticness\"}>acousticness</MenuItem>\r\n                            <MenuItem value={\"danceability\"}>danceability</MenuItem>\r\n                            <MenuItem value={\"energy\"}>energy</MenuItem>\r\n                            <MenuItem value={\"instrumentalness\"}>instrumentalness</MenuItem>\r\n                            <MenuItem value={\"liveness\"}>liveness</MenuItem>\r\n                            <MenuItem value={\"speechiness\"}>speechiness</MenuItem>\r\n                            <MenuItem value={\"tempo\"}>tempo</MenuItem>\r\n                            <MenuItem value={\"valence\"}>valence</MenuItem>\r\n                        </Select>\r\n\r\n\r\n                        <InputLabel style={{ marginTop: \"20px\", color: \"gray\" }} id=\"demo-simple-select-label\">Axis Y</InputLabel>\r\n                        <Select\r\n                            style={{ color: \"white\" }}\r\n                            value={y_axis}\r\n                            label=\"Axis Y\"\r\n                            onChange={(event) => {\r\n                                set_y_axis(event.target.value);\r\n                            }}\r\n                        >\r\n                            <MenuItem value={\"acousticness\"}>acousticness</MenuItem>\r\n                            <MenuItem value={\"danceability\"}>danceability</MenuItem>\r\n                            <MenuItem value={\"energy\"}>energy</MenuItem>\r\n                            <MenuItem value={\"instrumentalness\"}>instrumentalness</MenuItem>\r\n                            <MenuItem value={\"liveness\"}>liveness</MenuItem>\r\n                            <MenuItem value={\"speechiness\"}>speechiness</MenuItem>\r\n                            <MenuItem value={\"tempo\"}>tempo</MenuItem>\r\n                            <MenuItem value={\"valence\"}>valence</MenuItem>\r\n                        </Select>\r\n\r\n\r\n                        <InputLabel style={{ marginTop: \"20px\", color: \"gray\" }} id=\"demo-simple-select-label\">Bubble Size</InputLabel>\r\n                        <Select\r\n                            style={{ color: \"white\" }}\r\n                            value={bubble_size}\r\n                            label=\"Bubble size\"\r\n                            onChange={(event) => {\r\n                                set_bubble(event.target.value);\r\n                            }}\r\n                        >\r\n                            <MenuItem value={\"acousticness\"}>acousticness</MenuItem>\r\n                            <MenuItem value={\"danceability\"}>danceability</MenuItem>\r\n                            <MenuItem value={\"duration_ms\"}>duration_ms</MenuItem>\r\n                            <MenuItem value={\"energy\"}>energy</MenuItem>\r\n                            <MenuItem value={\"instrumentalness\"}>instrumentalness</MenuItem>\r\n                            <MenuItem value={\"key\"}>key</MenuItem>\r\n                            <MenuItem value={\"liveness\"}>liveness</MenuItem>\r\n                            <MenuItem value={\"mode\"}>mode</MenuItem>\r\n                            <MenuItem value={\"speechiness\"}>speechiness</MenuItem>\r\n                            <MenuItem value={\"tempo\"}>tempo</MenuItem>\r\n                            <MenuItem value={\"valence\"}>valence</MenuItem>\r\n                        </Select>\r\n\r\n\r\n                        <InputLabel style={{ marginTop: \"20px\", color: \"gray\" }} id=\"demo-simple-select-label\">Bubble Color</InputLabel>\r\n                        <Select\r\n                            style={{ color: \"white\" }}\r\n                            value={bubble_color}\r\n                            label=\"Bubble color\"\r\n                            onChange={(event) => {\r\n                                set_color(event.target.value);\r\n                            }}\r\n                        >\r\n                            <MenuItem value={\"acousticness\"}>acousticness</MenuItem>\r\n                            <MenuItem value={\"danceability\"}>danceability</MenuItem>\r\n                            <MenuItem value={\"duration_ms\"}>duration_ms</MenuItem>\r\n                            <MenuItem value={\"energy\"}>energy</MenuItem>\r\n                            <MenuItem value={\"instrumentalness\"}>instrumentalness</MenuItem>\r\n                            <MenuItem value={\"key\"}>key</MenuItem>\r\n                            <MenuItem value={\"liveness\"}>liveness</MenuItem>\r\n                            <MenuItem value={\"mode\"}>mode</MenuItem>\r\n                            <MenuItem value={\"speechiness\"}>speechiness</MenuItem>\r\n                            <MenuItem value={\"tempo\"}>tempo</MenuItem>\r\n                            <MenuItem value={\"valence\"}>valence</MenuItem>\r\n                        </Select>\r\n                    </FormGroup>\r\n                    <div className=\"grad\">\r\n                        <div style={{ color: \"white\", marginLeft: \"10px\" }}>0</div>\r\n                        <div style={{ color: \"white\", marginLeft: \"160px\" }}>1</div>\r\n                    </div>\r\n                    <Stack style={{ marginTop: \"35px\" }} sx={{ height: 300 }} spacing={1} direction=\"row\">\r\n                        <Slider\r\n                            orientation=\"vertical\"\r\n                            min={1920}\r\n                            max={2020}\r\n                            defaultValue={selectedYear}\r\n                            onChange={(event, newValue) => {\r\n                                setSelectedYear(newValue);\r\n                            }}\r\n                        />\r\n                        <div style={{ color: \"white\", fontSize: \"30px\" }}>{selectedYear}</div>\r\n                    </Stack>\r\n\r\n                </div>\r\n            </div>\r\n        </div >\r\n    );\r\n}\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport * as d3 from \"d3\";\r\nimport Paper from '@mui/material/Paper';\r\nimport Card from '@mui/material/Card';\r\nimport CardActions from '@mui/material/CardActions';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport Button from '@mui/material/Button';\r\nimport Typography from '@mui/material/Typography';\r\nimport Grid from '@mui/material/Grid';\r\nimport Slider from '@mui/material/Slider';\r\nimport MuiInput from '@mui/material/Input';\r\nimport axios from 'axios';\r\nimport { styled } from '@mui/material/styles';\r\n\r\nimport InputLabel from '@mui/material/InputLabel';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport Select from '@mui/material/Select';\r\nimport Box from \"@material-ui/core/Box\";\r\nexport default function Prediction(props) {\r\n    const Input = styled(MuiInput)`\r\n    width: 42px;\r\n  `;\r\n    const [acousticness, set_acousticness] = React.useState(0.5);\r\n    const [danceability, set_danceability] = React.useState(0.5);\r\n    const [duration_ms, set_duration_ms] = React.useState(0.5);\r\n    const [energy, set_energy] = React.useState(0.5);\r\n    const [instrumentalness, set_instrumentalness] = React.useState(0.5);\r\n    const [key, set_key] = React.useState(1);\r\n    const [liveness, set_liveness] = React.useState(0.5);\r\n    const [loudness, set_loudness] = React.useState(0.5);\r\n    const [mode, set_mode] = React.useState(1);\r\n    const [speechiness, set_speechiness] = React.useState(0.5);\r\n    const [tempo, set_tempo] = React.useState(0.5);\r\n    const [valence, set_valence] = React.useState(0.5);\r\n    const [count, set_count] = React.useState(0.5);\r\n\r\n    const [popularity_score, set_popularity_score] = React.useState(\"-\");\r\n    const [category, set_category] = React.useState(\"-\");\r\n    const [elevation, set_elevation] = React.useState(0);\r\n\r\n    const [song_or_artist, set_song_or_artist] = React.useState(\"song\");\r\n    const [model, set_model] = React.useState(\"rf_model\");\r\n    const handleBlur = () => {\r\n        // if (value < 0) {\r\n        //     setValue(0);\r\n        // } else if (value > 1) {\r\n        //     setValue(1);\r\n        // }\r\n    };\r\n\r\n    function FeatureSlider(props) {\r\n        var feature = props.feature\r\n        return (\r\n            <>\r\n                <br />\r\n                <Typography sx={{ mb: 1 }} color=\"#f6f6f6\">\r\n                    {feature}\r\n                </Typography>\r\n                <Grid container spacing={2} alignItems=\"center\">\r\n                    <Grid item xs>\r\n                        <Slider\r\n                            {...(feature == \"acousticness\" ? { value: acousticness } : {})}\r\n                            {...(feature == \"danceability\" ? { value: danceability } : {})}\r\n                            {...(feature == \"duration_ms\" ? { value: duration_ms } : {})}\r\n                            {...(feature == \"energy\" ? { value: energy } : {})}\r\n                            {...(feature == \"instrumentalness\" ? { value: instrumentalness } : {})}\r\n                            {...(feature == \"key\" ? { value: key } : {})}\r\n                            {...(feature == \"liveness\" ? { value: liveness } : {})}\r\n                            {...(feature == \"loudness\" ? { value: loudness } : {})}\r\n                            {...(feature == \"mode\" ? { value: mode } : {})}\r\n                            {...(feature == \"speechiness\" ? { value: speechiness } : {})}\r\n                            {...(feature == \"tempo\" ? { value: tempo } : {})}\r\n                            {...(feature == \"valence\" ? { value: valence } : {})}\r\n                            {...(feature == \"count\" ? { value: count } : {})}\r\n\r\n                            onChangeCommitted={(event, newValue) => {\r\n                                if (feature == \"acousticness\")\r\n                                    set_acousticness(newValue);\r\n                                if (feature == \"danceability\")\r\n                                    set_danceability(newValue);\r\n                                if (feature == \"duration_ms\")\r\n                                    set_duration_ms(newValue);\r\n                                if (feature == \"energy\")\r\n                                    set_energy(newValue);\r\n                                if (feature == \"instrumentalness\")\r\n                                    set_instrumentalness(newValue);\r\n                                if (feature == \"key\")\r\n                                    set_key(newValue);\r\n                                if (feature == \"liveness\")\r\n                                    set_liveness(newValue);\r\n                                if (feature == \"loudness\")\r\n                                    set_loudness(newValue);\r\n                                if (feature == \"mode\")\r\n                                    set_mode(newValue);\r\n                                if (feature == \"speechiness\")\r\n                                    set_speechiness(newValue);\r\n                                if (feature == \"tempo\")\r\n                                    set_tempo(newValue);\r\n                                if (feature == \"valence\")\r\n                                    set_valence(newValue);\r\n                                if (feature == \"count\")\r\n                                    set_count(newValue);\r\n                            }}\r\n                            aria-labelledby=\"input-slider\"\r\n                            min={0}\r\n                            max={1}\r\n                            {...((feature == \"mode\" || feature == \"key\") ? { step: 1 } : { step: 0.01 })}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <Input\r\n                            style={{ width: \"50px\", color: \"#fff\" }}\r\n                            size=\"large\"\r\n                            {...(feature == \"acousticness\" ? { value: acousticness } : {})}\r\n                            {...(feature == \"danceability\" ? { value: danceability } : {})}\r\n                            {...(feature == \"duration_ms\" ? { value: duration_ms } : {})}\r\n                            {...(feature == \"energy\" ? { value: energy } : {})}\r\n                            {...(feature == \"instrumentalness\" ? { value: instrumentalness } : {})}\r\n                            {...(feature == \"key\" ? { value: key } : {})}\r\n                            {...(feature == \"liveness\" ? { value: liveness } : {})}\r\n                            {...(feature == \"loudness\" ? { value: loudness } : {})}\r\n                            {...(feature == \"mode\" ? { value: mode } : {})}\r\n                            {...(feature == \"speechiness\" ? { value: speechiness } : {})}\r\n                            {...(feature == \"tempo\" ? { value: tempo } : {})}\r\n                            {...(feature == \"valence\" ? { value: valence } : {})}\r\n                            {...(feature == \"count\" ? { value: count } : {})}\r\n                            onChange={(event) => {\r\n                                var newValue = Number(event.target.value)\r\n                                if (feature == \"acousticness\")\r\n                                    set_acousticness(newValue);\r\n                                if (feature == \"danceability\")\r\n                                    set_danceability(newValue);\r\n                                if (feature == \"duration_ms\")\r\n                                    set_duration_ms(newValue);\r\n                                if (feature == \"energy\")\r\n                                    set_energy(newValue);\r\n                                if (feature == \"instrumentalness\")\r\n                                    set_instrumentalness(newValue);\r\n                                if (feature == \"key\")\r\n                                    set_key(newValue);\r\n                                if (feature == \"liveness\")\r\n                                    set_liveness(newValue);\r\n                                if (feature == \"loudness\")\r\n                                    set_loudness(newValue);\r\n                                if (feature == \"mode\")\r\n                                    set_mode(newValue);\r\n                                if (feature == \"speechiness\")\r\n                                    set_speechiness(newValue);\r\n                                if (feature == \"tempo\")\r\n                                    set_tempo(newValue);\r\n                                if (feature == \"valence\")\r\n                                    set_valence(newValue);\r\n                                if (feature == \"count\")\r\n                                    set_count(newValue);\r\n\r\n                            }}\r\n                            onBlur={handleBlur}\r\n                            inputProps={{\r\n                                step: 0.01,\r\n                                min: 0,\r\n                                max: 1,\r\n                                type: 'number',\r\n                                'aria-labelledby': 'input-slider',\r\n                            }}\r\n                        />\r\n                    </Grid>\r\n                </Grid>\r\n            </>\r\n        );\r\n    }\r\n\r\n    function predict() {\r\n\r\n        fetch('https://spotifysongapi.herokuapp.com/popularity_predict?acousticness=' + acousticness\r\n            + \"&\" + \"danceability=\" + danceability\r\n            + \"&\" + \"duration_ms=\" + duration_ms\r\n            + \"&\" + \"energy=\" + energy\r\n            + \"&\" + \"instrumentalness=\" + instrumentalness\r\n            + \"&\" + \"key=\" + key\r\n            + \"&\" + \"liveness=\" + liveness\r\n            + \"&\" + \"loudness=\" + loudness\r\n            + \"&\" + \"speechiness=\" + speechiness\r\n            + \"&\" + \"tempo=\" + tempo\r\n            + \"&\" + \"valence=\" + valence\r\n            + \"&\" + \"model=\" + model\r\n            + \"&\" + \"count=\" + count\r\n            + \"&\" + \"song_or_artist=\" + song_or_artist\r\n        )\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                set_popularity_score(data)\r\n                set_elevation(15)\r\n                console.log(data);\r\n            });\r\n\r\n\r\n        axios('https://spotifysongapi.herokuapp.com/genre_predict?acousticness=' + acousticness\r\n            + \"&\" + \"danceability=\" + danceability\r\n            + \"&\" + \"duration_ms=\" + duration_ms\r\n            + \"&\" + \"energy=\" + energy\r\n            + \"&\" + \"instrumentalness=\" + instrumentalness\r\n            + \"&\" + \"key=\" + key\r\n            + \"&\" + \"mode=\" + mode\r\n            + \"&\" + \"liveness=\" + liveness\r\n            + \"&\" + \"loudness=\" + loudness\r\n            + \"&\" + \"speechiness=\" + speechiness\r\n            + \"&\" + \"tempo=\" + tempo\r\n            + \"&\" + \"valence=\" + valence\r\n        )\r\n            .then(resp => set_category(resp.data))\r\n    }\r\n    return (\r\n\r\n        <Box\r\n            display=\"flex\"\r\n            justifyContent=\"center\"\r\n            alignItems=\"center\"\r\n            minHeight={window.innerHeight - 100}\r\n        >\r\n            <div justifyContent=\"center\">\r\n                <div style={{ display: \"-webkit-inline-flex\" }}>\r\n                    <Card style={{ backgroundColor: \"#121212\" }}>\r\n                        <CardContent>\r\n                            <FormControl fullWidth>\r\n                                <InputLabel id=\"demo-simple-select-label\">Song / Artist</InputLabel>\r\n                                <Select\r\n                                    style={{ color: \"white\" }}\r\n                                    labelId=\"demo-simple-select-label\"\r\n                                    id=\"demo-simple-select\"\r\n                                    value={song_or_artist}\r\n                                    label=\"Song or Artist\"\r\n                                    onChange={(event) => {\r\n                                        set_song_or_artist(event.target.value);\r\n                                    }}\r\n                                >\r\n                                    <MenuItem value={\"song\"}>Song</MenuItem>\r\n                                    <MenuItem value={\"artist\"}>Artist</MenuItem>\r\n                                </Select>\r\n                            </FormControl>\r\n                            <br />\r\n                            <Typography variant=\"h5\" component=\"div\" color=\"#f1f1f1\">\r\n                                {song_or_artist} Features\r\n                            </Typography>\r\n                            <Typography sx={{ mb: 1.5 }} color=\"#818181\">\r\n                                Please adjust song features to predict\r\n                            </Typography>\r\n\r\n                            <div style={{ display: \"-webkit-inline-flex\", width: \"600px\" }}>\r\n                                <div style={{ width: \"250px\" }}>\r\n                                    <FeatureSlider feature={\"acousticness\"} ></FeatureSlider>\r\n                                    <FeatureSlider feature={\"danceability\"} ></FeatureSlider>\r\n                                    <FeatureSlider feature={\"duration_ms\"} ></FeatureSlider>\r\n                                    <FeatureSlider feature={\"energy\"} ></FeatureSlider>\r\n                                    <FeatureSlider feature={\"instrumentalness\"} ></FeatureSlider>\r\n                                    <FeatureSlider feature={\"key\"} ></FeatureSlider>\r\n                                    {\r\n                                        song_or_artist == \"artist\" &&\r\n                                        <FeatureSlider feature={\"count\"} ></FeatureSlider>\r\n                                    }\r\n                                </div>\r\n                                <div style={{ width: \"250px\", marginLeft: \"50px\" }}>\r\n\r\n                                    <FeatureSlider feature={\"liveness\"} ></FeatureSlider>\r\n                                    <FeatureSlider feature={\"loudness\"} ></FeatureSlider>\r\n                                    <FeatureSlider feature={\"mode\"} ></FeatureSlider>\r\n                                    <FeatureSlider feature={\"speechiness\"} ></FeatureSlider>\r\n                                    <FeatureSlider feature={\"tempo\"} ></FeatureSlider>\r\n                                    <FeatureSlider feature={\"valence\"} ></FeatureSlider>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </CardContent>\r\n                    </Card>\r\n                    <div style={{ marginLeft: \"50px\" }}>\r\n                        <Card style={{ backgroundColor: \"#121212\" }}>\r\n\r\n                            <CardContent>\r\n                                <Typography variant=\"h5\" component=\"div\" color=\"#f1f1f1\">\r\n                                    Prediction Model\r\n                                </Typography>\r\n                                <Typography sx={{ mb: 1.5 }} color=\"#818181\">\r\n                                    Please select the population prediction model\r\n                                </Typography>\r\n\r\n                                <br></br>\r\n                                <br></br>\r\n                                <FormControl fullWidth>\r\n                                    <InputLabel id=\"demo-simple-select-label\">Model</InputLabel>\r\n                                    <Select\r\n                                        style={{ color: \"white\" }}\r\n                                        labelId=\"demo-simple-select-label\"\r\n                                        id=\"demo-simple-select\"\r\n                                        value={model}\r\n                                        label=\"Model\"\r\n                                        onChange={(event) => {\r\n                                            set_model(event.target.value);\r\n                                        }}\r\n                                    >\r\n                                        <MenuItem value={\"rf_model\"}>Random Forest (accuracy: 71%)</MenuItem>\r\n                                        <MenuItem value={\"svm_model\"}>SVM (accuracy: 62%)</MenuItem>\r\n                                        <MenuItem value={\"lr_model\"}>Linear Regression (accuracy: 44%)</MenuItem>\r\n                                    </Select>\r\n                                </FormControl>\r\n\r\n                            </CardContent>\r\n                        </Card>\r\n                        <Card elevation={elevation} style={{ marginTop: \"30px\", backgroundColor: \"#121212\", width: \"400px\", height: \"300px\" }}  >\r\n                            <CardContent>\r\n                                <Typography variant=\"h5\" component=\"div\" color=\"#f1f1f1\">\r\n                                    Popularity Score:\r\n                                </Typography>\r\n                                <Typography variant=\"h1\" component=\"div\" color=\"#fff\" style={{ textAlign: \"center\" }}>\r\n                                    {Number(popularity_score).toFixed(2).toString()}{popularity_score !== \"-\" && <span style={{ fontSize: \"26px\", color: \"#d1d1d1\" }}>/100</span>}\r\n                                </Typography>\r\n\r\n\r\n                                <Typography variant=\"h5\" component=\"div\" color=\"#f1f1f1\">\r\n                                    Category:\r\n                                </Typography>\r\n                                <Typography variant=\"h3\" component=\"div\" color=\"#fff\" style={{ textAlign: \"center\" }}>\r\n                                    {category}\r\n                                </Typography>\r\n\r\n                            </CardContent>\r\n                        </Card>\r\n                        <Card style={{ marginTop: \"30px\" }}>\r\n                            <Button variant=\"contained\" style={{ width: \"400px\", height: \"60px\" }} onClick={() => { predict() }}>PREDICT</Button>\r\n                        </Card>\r\n                    </div>\r\n                </div>\r\n            </div >\r\n        </Box>\r\n\r\n    );\r\n}\r\n","import React from \"react\";\n\nexport default function NoMatch() {\n  return <div> NO MATCH 404 </div>;\n}\n","import React from \"react\";\n\nexport default class MusicPreview extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    return (\n      // <p style={{ color: \"red\" }}>{this.props.music_preview_id}</p>\n\n      <iframe\n        title=\"musicPreview\"\n        src={\n          \"https://open.spotify.com/embed/track/\" + this.props.music_preview_id\n        }\n        style={{\n          border: \"0\",\n          width: \"100%\",\n          height: \"85px\",\n        }}\n        allowFullScreen\n        allow=\"encrypted-media\"\n      ></iframe>\n    );\n  }\n}\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport styled from \"styled-components\";\nimport searchIcon from \"../assets/search-icon.png\";\n\nconst Search = styled.input`\n  color: #575d69;\n  background: transparent;\n  border: none;\n  border-bottom: 2px solid #575d69;\n  font-size: larger;\n  margin-top: 8px;\n  width: 90%;\n  padding: 8px;\n  background-image: url(${searchIcon});\n  background-repeat: no-repeat;\n  background-origin: content-box;\n  background-size: contain;\n  text-indent: 40px;\n  :focus {\n    outline: 0px; /* oranges! yey */\n    color: white;\n    border-bottom: 2px solid white;\n  }\n`;\n\nclass SearchBox extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n  }\n  handleChange(e) {\n    this.props.onInputChange(e.target.value);\n  }\n  render() {\n    return (\n      // style={{ display: \"-webkit-inline-flex\" }}\n      <form>\n        <Search\n          type=\"text\"\n          name=\"search\"\n          placeholder=\"Search\"\n          onChange={this.handleChange}\n        />\n        {/* <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          style={{\n            height: \"48px\",\n            width: \"48px\",\n            minWidth: \"0px\",\n            fontSize: \"1.5em\",\n            color: \"white\",\n            fontWeight: \"lighter\",\n            marginTop: \"5px\",\n            marginLeft: \"15px\",\n            borderRadius: \"15px\",\n          }}\n        >\n          +\n        </Button> */}\n      </form>\n    );\n  }\n}\nexport default SearchBox;\n","export default \"data:image/png;base64,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\"","import React from \"react\";\nimport \"../Styles/SearchFilter.css\";\nimport { useLocation } from \"react-router-dom\";\n\nexport default function SearchFilter(props) {\n  const location = useLocation();\n\n  return (\n    <div>\n      {location.pathname === \"/compare\" ? (\n        <div className=\"radio-toolbar\" onChange={props.filterTypeHandle}>\n          <input\n            type=\"radio\"\n            id=\"radioMusic\"\n            name=\"filter\"\n            value=\"music\"\n            checked={props.filterType == \"music\" ? true : false}\n          />\n          <label for=\"radioMusic\"> Music </label>\n          <input\n            type=\"radio\"\n            id=\"radioArtist\"\n            name=\"filter\"\n            value=\"artist\"\n            checked={props.filterType == \"artist\" ? true : false}\n          />\n          <label for=\"radioArtist\"> Artist </label>\n          <input\n            type=\"radio\"\n            id=\"radioGenre\"\n            name=\"filter\"\n            value=\"genre\"\n            checked={props.filterType == \"genre\" ? true : false}\n          />\n          <label for=\"radioGenre\"> Genre </label>\n        </div>\n      ) : (\n        <div\n          style={{\n            minHeight: \"50px\",\n          }}\n        />\n      )}\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/play-button.70cc5873.svg\";","export default __webpack_public_path__ + \"static/media/recommend.d0db0192.svg\";","import { style } from \"d3-selection\";\nimport React, { useState, useEffect } from \"react\";\nimport { FixedSizeList as List } from \"react-window\";\nimport playButton from \"../assets/play-button.svg\";\nimport recommendIcon from \"../assets/recommend.svg\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { useLocation } from \"react-router-dom\";\nimport axios from \"axios\";\nexport default function ResultList(props) {\n  const location = useLocation();\n  const [open, setOpen] = React.useState(false);\n  const [addID, setaddID] = React.useState();\n  const [token, setToken] = React.useState();\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleSelectedChange = (s) => {\n    props.onSelectedChange(s);\n  };\n\n  const handleAddFieldChange = (s) => {\n    setaddID(s.target.value);\n  };\n\n  useEffect(() => {\n    if (!token) getToken();\n  }, []);\n  const getToken = () => {\n    if (token) return;\n    var clientID = process.env.REACT_APP_CLIENT_ID;\n    var clientSecret = process.env.REACT_APP_CLIENT_SECRET;\n    axios(\"https://accounts.spotify.com/api/token\", {\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n        Authorization: \"Basic \" + btoa(clientID + \":\" + clientSecret),\n      },\n      data: \"grant_type=client_credentials\",\n      method: \"POST\",\n    }).then((tokenResponse) => {\n      setToken(tokenResponse.data.access_token);\n    });\n  };\n\n  const addMusic = (s) => {\n    if (!token) {\n      getToken();\n      return;\n    }\n\n    var url = \"https://api.spotify.com/v1/audio-features/\" + addID;\n\n    fetch(\"https://api.spotify.com/v1/tracks/\" + addID, {\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      },\n    })\n      .then((res) => res.json()) // if response is json, for text use res.text()\n      .then((response_) => {\n        console.log(\"Response:\", response_);\n        fetch(url, {\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: \"Bearer \" + token,\n          },\n        })\n          .then((res) => res.json()) // if response is json, for text use res.text()\n          .then((response) => {\n            setOpen(false);\n            console.log(\"Response:\", response);\n            var data = {\n              id: response.id.toString(),\n              // name: response_.name.toString(),\n              acousticness: response.acousticness.toString(),\n              danceability: response.danceability.toString(),\n              energy: response.energy.toString(),\n              liveness: response.liveness.toString(),\n              instrumentalness: response.instrumentalness.toString(),\n              tempo: response.tempo.toString(),\n              speechiness: response.speechiness.toString(),\n              valence: response.valence.toString(),\n              X: \"-30\",\n              Y: \"-30\",\n            };\n            props.addMusic(data);\n          })\n          .catch((error) => {\n            console.warn(\"Error:\", error);\n            setOpen(false);\n          });\n      })\n      .catch((error) => {\n        console.warn(\"Error:\", error);\n      });\n  };\n\n  const searchTerm = props.searchTerm.toLowerCase();\n  var results = props.music_data;\n  if (props.filterType == \"music\") {\n    results = props.music_data.filter((li) => li.name.toLowerCase().includes(searchTerm));\n  }\n  else if (props.filterType == \"artist\") {\n    results = props.music_data.filter((li) =>\n      li.artists.toLowerCase().includes(searchTerm)\n\n    );\n  } else if (props.filterType == \"genre\") {\n    results = props.music_data.filter((li) =>\n      li.genres.toLowerCase().includes(searchTerm)\n\n    );\n  }\n\n  const Row = ({ index, style }) => (\n    <div className=\"test\" style={style}>\n      <div\n        style={{\n          display: \"-webkit-inline-box\",\n        }}\n        onClick={() => handleSelectedChange(results[index])}\n        className={\n          props.selected.has(results[index])\n            ? \"song-selected\"\n            : \"song-notselected\"\n        }\n      >\n        <p\n          style={{\n            marginTop: \"-5px\",\n            width: \"3em\",\n            textAlign: \"left\",\n          }}\n        >\n          {props.filterType == \"music\" ? (\n            <div style={{ display: \"-webkit-inline-flex\" }}>\n\n              <img\n                className=\"play-button\"\n                height=\"18\"\n                src={playButton}\n                alt=\"P\"\n                onClick={(e) => {\n                  e.stopPropagation();\n                  props.onPreviewChange(results[index].id);\n                }}\n              />\n\n              <img\n                className=\"play-button\"\n                height=\"18\"\n                src={recommendIcon}\n                alt=\"P\"\n                style={{ marginLeft: \"3px\" }}\n                onClick={(e) => {\n                  e.stopPropagation();\n                  props.openRecommendUI(results[index].id);\n                }}\n              />\n\n            </div>\n          ) : (\n            <div></div>\n          )}\n        </p>\n        <div class=\"text ellipsis\">\n          <span class=\"text-concat song-text\">\n            {results[index].name && results[index].name}\n            {results[index].artists && results[index].artists}\n            {results[index].genres && results[index].genres}\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n\n  return (\n    <div>\n      {location.pathname === \"/compare\" && props.filterType === \"music\" ? (\n        <div\n          onClick={handleClickOpen}\n          className=\"add-music\"\n          style={{\n            borderColor: \"#ffffff\",\n            height: \"50px\",\n            margin: \"5px\",\n            marginLeft: \"18px\",\n            marginRight: \"18px\",\n            opacity: \"0.4\",\n          }}\n        >\n          <p\n            style={{\n              color: \"#ffffff\",\n              fontSize: \"32px\",\n              marginTop: \"-18px\",\n              fontWeight: \"lighter\",\n            }}\n          >\n            +\n          </p>\n        </div>\n      ) : (\n        <></>\n      )}\n\n      <List\n        width={340}\n        height={\n          props.device_height - 100\n        }\n        itemCount={results.length}\n        itemSize={35}\n      >\n        {Row}\n      </List>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogTitle id=\"form-dialog-title\">Add Missing Music</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            To add a missing music to compare, copy the music id from Spotify\n            here\n          </DialogContentText>\n          <p\n            style={{\n              fontWeight: \"lighter\",\n              fontSize: \"16px\",\n              color: \"#979797\",\n            }}\n          >\n            The Spotify music IDs are like: 6wX3aeg2vMBAFB0ubaraLb\n          </p>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"name\"\n            label=\"Spotify Music ID\"\n            type=\"string\"\n            onChange={handleAddFieldChange}\n            fullWidth\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={addMusic} color=\"primary\">\n            Add\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import MusicPreview from \"./MusicPreview\";\nimport SearchBox from \"./SearchBox\";\nimport SearchFilter from \"./SearchFilter\";\nimport ResultList from \"./ResultList\";\nimport styled from \"styled-components\";\nimport React, { useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nconst Fixed = styled.div`\n  position: -webkit-sticky; /* Safari */\n  position: sticky;\n  top: 0;\n  background-color: #212330;\n`;\n\nexport default function Sidebar(props) {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n\n  const searchTermHandler = (term) => {\n    setSearchTerm(term);\n  };\n  const location = useLocation();\n  return (\n    <div>\n      {location.pathname != \"/compare\" ? (\n        <></>\n      ) : (\n        <div className=\"fixed-sidebar\">\n          <Fixed>\n            <MusicPreview\n              music_preview_id={props.music_preview_id}\n            ></MusicPreview>\n            <SearchBox onInputChange={searchTermHandler}> </SearchBox>\n            <SearchFilter\n              filterTypeHandle={props.filterTypeHandle}\n              filterType={props.filterType}\n              filter={props.filter}\n              handleFilter={props.handleFilter}\n            ></SearchFilter>\n          </Fixed>\n          <ResultList\n            openRecommendUI={props.openRecommendUI}\n            classified_data={props.classified_data}\n            addMusic={props.addMusic}\n            onAddHandle={props.onAddHandle}\n            filterTypeHandle={props.filterTypeHandle}\n            filterType={props.filterType}\n            onPreviewChange={props.onPreviewChange}\n            music_data={props.music_data}\n            searchTerm={searchTerm}\n            selected={props.selected}\n            onSelectedChange={props.onSelectedChange}\n            device_height={props.device_height}\n          ></ResultList>\n        </div>\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Container } from \"react-bootstrap\";\n\nexport const Layout = (props) => <div> {props.children} </div>;\n","export default __webpack_public_path__ + \"static/media/clustering_and_genre.32bca9ae.csv\";","export default __webpack_public_path__ + \"static/media/data_by_artist.4918a4cd.csv\";","export default __webpack_public_path__ + \"static/media/data_by_genres.37662d1c.csv\";","import \"./App.css\";\nimport React, { useState, useCallback, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  Redirect,\n  HashRouter,\n} from \"react-router-dom\";\nimport { Col, Container, Row } from \"react-bootstrap\";\nimport Navbar from \"./Components/Navbar\";\nimport Compare from \"./Components/Compare\";\nimport Selection from \"./Components/Selection\";\nimport General from \"./Components/General\";\nimport Prediction from \"./Components/Prediction\";\nimport NoMatch from \"./Components/NoMatch\";\nimport Sidebar from \"./Components/Sidebar\";\nimport BubbleChart from \"./Components/BubbleChart\";\nimport { Layout } from \"./Components/Layout\";\nimport clustering_and_genre from \"./dataset/clustering_and_genre.csv\";\nimport artist_data_csv from \"./dataset/data_by_artist.csv\";\nimport genre_data_csv from \"./dataset/data_by_genres.csv\";\nimport year_data from \"./dataset/data_by_year.csv\";\nimport line_for_songs_genre_count_location from \"./dataset/line_for_songs_genre_count.csv\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\n\n\nimport { csv } from \"d3\";\n\n\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#75ada0\",\n    },\n    secondary: {\n      main: \"#31b475\",\n    },\n    type: \"dark\",\n  },\n});\n\nexport default function App() {\n  const [selected, setSelected] = useState(new Set());\n  const [classified_data, setClassifiedData] = useState(new Array());\n  const [music_data, setMusicData] = useState(new Array());\n  const [artist_data, setArtistData] = useState(new Array());\n  const [genre_data, setGenreData] = useState(new Array());\n  const [selectedSongToRecommend, setSelectedSongToRecommend] = useState();\n  const [line_for_songs_genre_count, set_line_for_songs_genre_count] = useState(new Array())\n  const [overyears_data, setOverYearsData] = useState(new Array());\n  const [filterType, setFilterType] = useState(\"music\");\n  const [chartTypeValue, setChartTypeValue] = React.useState(\"radar\");\n  const [convexHullsChecked, setConvexHullsChecked] = React.useState(false);\n  const [rDimensionMethod, setRDimensionMethod] = React.useState(\"pca\");\n  const [classificationMethod, setClassificationMethod] = React.useState(\"kmeans\");\n  const [hierarchicalMethod, setHierarchicalMethod] = React.useState(\"ward\");\n  const [recommendationCount, setRecommendationCount] = React.useState(5);\n  const [recommendUIIsShow, setRecommendUIIsShow] = React.useState(false)\n  const [selectedAttributes, setSelectedAttributes] = React.useState([\n    \"acousticness\",\n    \"energy\",\n  ]);\n  const [music_preview_id, setMusicPreviewId] = useState(\n    \"1YYhDizHx7PnDhAhko6cDS\"\n  );\n  const [range_min_value, setRangeMinValue] = useState(7000);\n  const [range_max_value, setRangeMaxValue] = useState(10000);\n\n  const [loadedDS, setLoadedDS] = useState(0);\n  const [open, setOpen] = React.useState(true);\n\n  const handleAttributesChange = function (d) {\n    if (selectedAttributes.includes(d.target.id)) {\n      const filteredItems = selectedAttributes.filter((s) => s !== d.target.id);\n      setSelectedAttributes([...filteredItems]);\n    } else {\n      const newItems = [...selectedAttributes];\n      newItems.push(d.target.id);\n      setSelectedAttributes(newItems);\n    }\n  };\n\n  const filterTypeHandle = (e) => {\n    setSelected(new Set());\n    setFilterType(e.target.value);\n  };\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const addMusic = (data) => {\n    setMusicData([data, ...music_data]);\n  };\n  const handleLoadedDS = (i) => {\n    setLoadedDS(i);\n  };\n\n  const onPreviewChange = useCallback(\n    (id) => {\n      setMusicPreviewId(id);\n    },\n    [music_preview_id]\n  );\n\n  const onRangeChange = useCallback(\n    (newValue) => {\n      setRangeMinValue(newValue[0]);\n      setRangeMaxValue(newValue[1]);\n    },\n    [range_min_value, range_max_value]\n  );\n\n  const onSelectedChange = useCallback(\n    (s) => {\n      if (selected.has(s)) {\n        const newSet = new Set(selected);\n        newSet.delete(s);\n        setSelected(newSet);\n      } else {\n        const newSet = new Set(selected);\n        newSet.add(s);\n        setSelected(newSet);\n      }\n    },\n    [selected]\n  );\n\n  const size = useWindowSize();\n\n  useEffect(() => {\n    csv(genre_data_csv).then((data) => {\n      setGenreData(data);\n      handleLoadedDS(1);\n      csv(artist_data_csv).then((data) => {\n        setArtistData(data);\n        handleLoadedDS(2);\n        csv(year_data).then((data) => {\n          setOverYearsData(data);\n          handleLoadedDS(3);\n          csv(clustering_and_genre).then((data) => {\n            setMusicData(data);\n            setClassifiedData(data);\n            handleLoadedDS(4);\n            csv(line_for_songs_genre_count_location).then((data) => {\n              set_line_for_songs_genre_count(data)\n              handleClose();\n            });\n          });\n        });\n      });\n    });\n  }, []);\n\n  function openRecommendUI(id) {\n    setSelectedSongToRecommend(id)\n    setRecommendUIIsShow(true)\n  }\n  return (\n    <MuiThemeProvider theme={theme}>\n      <HashRouter>\n        <Container\n          fluid=\"true\"\n          style={{\n            paddingRight: \"15px\",\n            marginRight: \"auto\",\n            marginLeft: \"auto\",\n          }}\n        >\n\n          <Row>\n            {(music_data.length > 0) &&\n              < Sidebar\n                openRecommendUI={openRecommendUI}\n                classified_data={classified_data}\n                addMusic={addMusic}\n                filterTypeHandle={filterTypeHandle}\n                filterType={filterType}\n                onPreviewChange={onPreviewChange}\n                music_preview_id={music_preview_id}\n                music_data={\n                  filterType == \"music\"\n                    ? music_data\n                    : filterType == \"artist\"\n                      ? artist_data\n                      : genre_data\n                }\n                onSelectedChange={onSelectedChange}\n                selected={selected}\n                device_height={size.height}\n              ></Sidebar>\n            }\n            <Col>\n              <Navbar\n                filterType={filterType}\n                setFilterType={setFilterType}\n                setSelected={setSelected}\n              />\n\n              <div>\n\n              </div>\n              <Layout>\n                <Switch>\n                  <Route exact path=\"/\">\n                    <Redirect to=\"/compare\" />\n                  </Route>\n                  <Route\n                    path=\"/selection\"\n                    component={() => (\n                      <Prediction\n                        device_height={size.height}\n                        device_width={size.width}\n                      ></Prediction>\n                    )}\n                  ></Route>\n                  <Route\n                    path=\"/general\"\n                    component={() => (\n                      <div>\n\n                        <General\n                          line_for_songs_genre_count={line_for_songs_genre_count}\n                          selectedAttributes={selectedAttributes}\n                          handleAttributesChange={handleAttributesChange}\n                          device_height={size.height}\n                          device_width={size.width}\n                          music_data={music_data}\n                        ></General>\n\n                      </div>\n                    )}\n                  >\n\n                  </Route>\n                  <Route\n                    path=\"/compare\"\n                    component={() => (\n                      <div>\n                        <div style={{\n                          height: \"100%\",\n                          width: \"100%\",\n                          display: \"flex\"\n                        }}>\n                          <Selection\n                            classified_data={classified_data}\n                            music_data={music_data}\n                            onSelectedChange={onSelectedChange}\n                            onPreviewChange={onPreviewChange}\n                            onRangeChange={onRangeChange}\n                            selected={selected}\n                            device_height={size.height}\n                            device_width={size.width}\n                            range_max_value={range_max_value}\n                            range_min_value={range_min_value}\n                            convexHullsChecked={convexHullsChecked}\n                            rDimensionMethod={rDimensionMethod}\n                            classificationMethod={classificationMethod}\n                            hierarchicalMethod={hierarchicalMethod}\n                          />\n                          <div style={{ paddingTop: \"50px\", width: \"300px\" }}>\n                            <FormGroup>\n                              <FormControlLabel style={{ fontSize: \"20px\", color: \"white\" }} control={<Checkbox checked={convexHullsChecked} onChange={(event) => {\n                                setConvexHullsChecked(event.target.checked)\n                              }} defaultChecked />} label=\"convex hulls\" />\n                              <InputLabel style={{ marginTop: \"20px\" }} id=\"demo-simple-select-label\">Dimension Reduction Method</InputLabel>\n                              <Select\n                                value={rDimensionMethod}\n                                label=\"Reduce dimension method\"\n                                onChange={(event) => {\n                                  setRDimensionMethod(event.target.value);\n                                }}\n                              >\n                                <MenuItem value={\"tsne\"}>TSNE</MenuItem>\n                                <MenuItem value={\"pca\"}>PCA</MenuItem>\n                              </Select>\n\n                              <InputLabel style={{ marginTop: \"40px\" }} id=\"demo-simple-select-label\">Clustering method</InputLabel>\n                              <Select\n                                value={classificationMethod}\n                                label=\"Classification method\"\n                                onChange={(event) => {\n                                  setClassificationMethod(event.target.value);\n                                }}\n                              >\n                                <MenuItem value={\"kmeans\"}>K-Means</MenuItem>\n                                <MenuItem value={\"optics\"}>Optics</MenuItem>\n                                <MenuItem value={\"hierarchical\"}>Hierarchical</MenuItem>\n                              </Select>\n                              {classificationMethod === \"hierarchical\" &&\n                                <div>\n                                  <InputLabel style={{ marginTop: \"10px\" }} id=\"demo-simple-select-label\">Linkage Method</InputLabel>\n                                  <Select\n                                    value={hierarchicalMethod}\n                                    label=\"Hierarchical method\"\n                                    onChange={(event) => {\n                                      setHierarchicalMethod(event.target.value);\n                                    }}\n                                  >\n                                    <MenuItem value={\"ward\"}>Ward</MenuItem>\n                                    <MenuItem value={\"complete\"}>Complete</MenuItem>\n                                    <MenuItem value={\"average\"}>Average</MenuItem>\n                                    <MenuItem value={\"single\"}>Single</MenuItem>\n                                  </Select>\n                                </div>\n                              }\n                            </FormGroup>\n                          </div>\n                        </div>\n                        <Compare\n                          chartTypeValue={chartTypeValue}\n                          setChartTypeValue={setChartTypeValue}\n                          music_data={\n                            filterType == \"music\"\n                              ? music_data\n                              : filterType == \"artist\"\n                                ? artist_data\n                                : genre_data\n                          }\n                          onSelectedChange={onSelectedChange}\n                          selected={selected}\n                          device_height={size.height}\n                          device_width={size.width}\n                        />\n                      </div>\n                    )}\n                  ></Route>\n\n                  <Route component={NoMatch}></Route>\n                </Switch>\n              </Layout>\n            </Col>\n          </Row>\n\n          <Dialog open={recommendUIIsShow} onClose={() => setRecommendUIIsShow(false)}>\n            <DialogTitle>Recommend Simillar Songs</DialogTitle>\n            <DialogContent>\n              <DialogContentText>\n                Please select how many songs do you want to see as the recommendation\n              </DialogContentText>\n              <TextField\n                autoFocus\n                margin=\"dense\"\n                id=\"name\"\n                label=\"Recommendations Count\"\n                type=\"number\"\n                fullWidth\n                value={recommendationCount}\n                variant=\"standard\"\n                onChange={(e) => setRecommendationCount(Number(e.target.value))}\n              />\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={() => setRecommendUIIsShow(false)}>Cancel</Button>\n              <Button onClick={() => {\n                fetch('https://spotifysongapi.herokuapp.com/recommend?id=' + selectedSongToRecommend + \"&count=\" + recommendationCount)\n                  .then(response => response.json())\n                  .then(data => {\n                    console.log(Object.values(data.id));\n                    var musicsToSelect = music_data.filter(s => Object.values(data.id).includes(s.id))\n                    var selected_temp = new Set(selected)\n                    musicsToSelect.forEach(s => {\n                      selected_temp.add(s)\n                    });\n                    setSelected(selected_temp)\n                  });\n                setRecommendUIIsShow(false)\n              }}>Recommend</Button>\n            </DialogActions>\n          </Dialog>\n\n\n          <Dialog\n            open={open}\n            keepMounted\n            aria-labelledby=\"alert-dialog-slide-title\"\n            aria-describedby=\"alert-dialog-slide-description\"\n          >\n            <DialogTitle id=\"alert-dialog-slide-title\">\n              {\"Dataset(\" + (loadedDS + 1) + \"/5) is loading!\"}\n            </DialogTitle>\n            <DialogContent>\n              <DialogContentText id=\"alert-dialog-slide-description\">\n                Datasets are too large and have been stored in the git lfs.\n                Thus, the loading might be slow. Thanks for your patience!\n              </DialogContentText>\n            </DialogContent>\n          </Dialog>\n        </Container>\n      </HashRouter >\n    </MuiThemeProvider >\n  );\n}\n\n// Hook\nfunction useWindowSize() {\n  const [windowSize, setWindowSize] = useState({\n    width: undefined,\n    height: undefined,\n  });\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    }\n    window.addEventListener(\"resize\", handleResize);\n    handleResize();\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n\n  return windowSize;\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({\n      getCLS,\n      getFID,\n      getFCP,\n      getLCP,\n      getTTFB\n    }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render( <\n  React.StrictMode >\n  <\n  App / >\n  <\n  /React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}