(this["webpackJsonpsong-metadata-visualizer"]=this["webpackJsonpsong-metadata-visualizer"]||[]).push([[0],{251:function(e,t,n){},252:function(e,t,n){},267:function(e,t,n){},268:function(e,t,n){},287:function(e,t,n){"use strict";n.r(t);var a,i=n(0),r=n.n(i),c=n(15),s=n.n(c),o=(n(251),n(23)),l=n(9),d=(n(252),n(28)),u=n(17),p=n(326),h=n(327),f=n(328),g=n(50),b=n(330),m=n(331),j=n(51),y=n(2),x=j.a.div(a||(a=Object(g.a)(["\n  .navbar-nav {\n    padding-right: 20px;\n    margin-top: 10px;\n    a {\n      color: #969696;\n      font-weight: bold;\n      font-size: 1.4em;\n      margin-right: 40px;\n    }\n    a: hover {\n      text-decoration-line: unset;\n    }\n    .active {\n      color: white;\n      text-decoration-line: underline;\n      text-decoration-thickness: 5px;\n      text-underline-offset: 14px;\n    }\n  }\n"])));var v=function(e){return Object(y.jsx)(x,{children:Object(y.jsxs)(b.a,{expand:"lg",children:[Object(y.jsx)(b.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(y.jsx)(b.a.Collapse,{id:"basic-navbar-nav",children:Object(y.jsxs)(m.a,{className:"ml-auto",children:[Object(y.jsx)(d.b,{to:"/compare",children:"COMPARE"}),Object(y.jsx)(d.b,{to:"/selection",onClick:function(t){"music"!=e.filterType&&(e.setFilterType("music"),e.setSelected(new Set))},children:"SELECTION"}),Object(y.jsx)(d.b,{to:"/overyears",children:"OVER YEARS"})]})})]})})},O=n(152),A=n.n(O),C=n(8),w=(n(267),n.p+"static/media/bar.98aff0fa.svg"),S=n.p+"static/media/radar.680555f8.svg";function k(e){var t=function(t){e.setChartTypeValue(t.target.id)},n=[],a=C.g,r=Object(i.useRef)(),c=Object(i.useRef)(),s=e.selected,o=0;return s.forEach((function(e){n.push({data:{acousticness:Number(e.acousticness),danceability:Number(e.danceability),energy:Number(e.energy),instrumentalness:Number(e.instrumentalness),liveness:Number(e.liveness),speechiness:Number(e.speechiness),valence:Number(e.valence)},meta:{color:a[o%10]}}),o+=1})),Object(i.useEffect)((function(){var t=C.h(r.current),n=t.select("#svgCompareLegendsContainer"),i=e.device_width-580,s=10,o=100,l=C.h(c.current).append("g");l.attr("transform","translate(50,60)");for(var d=0;d<8;d+=1);l.selectAll("accoustic_bars").data(e.selected).enter().append("rect").attr("width",(function(e,t){return e.acousticness*i})).attr("height",5).attr("fill",(function(e,t){return a[t%10]})).attr("x",o).attr("y",(function(e,t){return 90*t+s})),l.selectAll("accoustic_bars_text").data(e.selected).enter().append("text").text("acousticness").attr("font-size","0.6em").attr("fill",(function(e,t){return"#787878"})).attr("x",0).attr("y",(function(e,t){return 90*t+s+3})),l.selectAll("danceability_bars").data(e.selected).enter().append("rect").attr("width",(function(e,t){return e.danceability*i})).attr("height",5).attr("fill",(function(e,t){return a[t%10]})).attr("x",o).attr("y",(function(e,t){return 90*t+20})),l.selectAll("danceability_bars_text").data(e.selected).enter().append("text").text("danceability").attr("font-size","0.6em").attr("fill",(function(e,t){return"#787878"})).attr("x",0).attr("y",(function(e,t){return 90*t+20+3})),l.selectAll("energy_bars").data(e.selected).enter().append("rect").attr("width",(function(e,t){return e.energy*i})).attr("height",5).attr("fill",(function(e,t){return a[t%10]})).attr("x",o).attr("y",(function(e,t){return 90*t+30})),l.selectAll("energy_bars_text").data(e.selected).enter().append("text").text("energy").attr("font-size","0.6em").attr("fill",(function(e,t){return"#787878"})).attr("x",0).attr("y",(function(e,t){return 90*t+30+3})),l.selectAll("instrumentalness_bars").data(e.selected).enter().append("rect").attr("width",(function(e,t){return e.instrumentalness*i})).attr("height",5).attr("fill",(function(e,t){return a[t%10]})).attr("x",o).attr("y",(function(e,t){return 90*t+40})),l.selectAll("instrumentalness_bars_text").data(e.selected).enter().append("text").text("instrumentalness").attr("font-size","0.6em").attr("fill",(function(e,t){return"#787878"})).attr("x",0).attr("y",(function(e,t){return 90*t+40+3})),l.selectAll("liveness_bars").data(e.selected).enter().append("rect").attr("width",(function(e,t){return e.liveness*i})).attr("height",5).attr("fill",(function(e,t){return a[t%10]})).attr("x",o).attr("y",(function(e,t){return 90*t+50})),l.selectAll("liveness_bars_text").data(e.selected).enter().append("text").text("liveness").attr("font-size","0.6em").attr("fill",(function(e,t){return"#787878"})).attr("x",0).attr("y",(function(e,t){return 90*t+50+3})),l.selectAll("speechiness_bars").data(e.selected).enter().append("rect").attr("width",(function(e,t){return e.speechiness*i})).attr("height",5).attr("fill",(function(e,t){return a[t%10]})).attr("x",o).attr("y",(function(e,t){return 90*t+60})),l.selectAll("speechiness_bars_text").data(e.selected).enter().append("text").text("speechiness").attr("font-size","0.6em").attr("fill",(function(e,t){return"#787878"})).attr("x",0).attr("y",(function(e,t){return 90*t+60+3})),l.selectAll("valence_bars").data(e.selected).enter().append("rect").attr("width",(function(e,t){return e.valence*i})).attr("height",5).attr("fill",(function(e,t){return a[t%10]})).attr("x",o).attr("y",(function(e,t){return 90*t+70})),l.selectAll("valence_bars_text").data(e.selected).enter().append("text").text("valence").attr("font-size","0.6em").attr("fill",(function(e,t){return"#787878"})).attr("x",0).attr("y",(function(e,t){return 90*t+70+3})),n.empty()&&(t.selectAll("legend").data(e.selected).enter().append("div").attr("class","compare-legend").style("opacity",.5).style("margin-bottom","5px").style("background-color",(function(e,t){return a[t%10]})).text((function(e){return e.genres?e.genres:e.name?e.name:e.artists?e.artists:"data problem?!"})),t.selectAll(".compare-legend").on("click",(function(t,n){!function(t){e.onSelectedChange(t)}(n)})).on("mouseover",(function(e,t){C.h(this).transition().duration(200).style("opacity",1)})),t.selectAll(".compare-legend").on("mouseout",(function(e,t){C.h(this).transition().duration(200).style("opacity",.5)})))}),[e.selected]),Object(y.jsxs)("div",{style:{paddingLeft:"20em"},children:[Object(y.jsxs)("div",{className:"row",children:[Object(y.jsx)("div",{className:"col-md-4",children:Object(y.jsx)("h2",{className:"title",children:" Select musics from the list to compare. "})}),Object(y.jsx)("div",{className:"col-md-6",children:" "}),Object(y.jsx)("div",{className:"col-md-2",children:Object(y.jsxs)("div",{style:{display:"-webkit-inline-flex",marginTop:"50px"},children:[Object(y.jsx)("img",{style:{textAlign:"right",opacity:"radar"==e.chartTypeValue?"1":"0.2"},src:S,onClick:t,alt:"radar",id:"radar"}),Object(y.jsx)("img",{id:"bar",style:{textAlign:"right",marginLeft:"20px",opacity:"bar"==e.chartTypeValue?"1":"0.2"},src:w,onClick:t,alt:"bar"})]})})]}),"radar"==e.chartTypeValue?Object(y.jsx)("div",{style:{textAlign:"center",marginTop:"-48px"},children:Object(y.jsx)(A.a,{options:{axes:!0,scales:1,captions:!0,captionMargin:35,dots:!0,zoomDistance:1.3,setViewBox:function(e){return"-".concat(e.captionMargin," 0 ").concat(e.size+2*e.captionMargin," ").concat(e.size)},axisProps:function(){return{className:"axis"}},scaleProps:function(){return{className:"scale",fill:"none"}},shapeProps:function(){return{className:"shape",mouseEnter:function(e){},mouseLeave:function(e){}}},captionProps:function(){return{className:"caption",textAnchor:"middle",fontSize:10,fontFamily:"sans-serif"}},dotProps:function(){return{className:"dot"}}},captions:{acousticness:"Acousticness",danceability:"Danceability",energy:"Energy",instrumentalness:"Instrumentalness",liveness:"Liveness",speechiness:"Speechiness",valence:"Valence"},data:n,size:e.device_height-200})}):Object(y.jsxs)("svg",{width:"100%",height:e.device_height-250,ref:c,id:"svgBarChartContainer",children:[Object(y.jsx)("g",{className:"x-axis"}),Object(y.jsx)("g",{className:"y-axis"})]}),Object(y.jsx)("div",{ref:r,id:"svgCompareLegendsContainer",style:{display:"-webkit-inline-flex",marginTop:"-30px",flexWrap:"wrap",alignContent:"flex-start",justifyContent:"start"}})]})}function T(e,t){console.log(e===t)}var B=r.a.memo(k,T),E=n(335),G=n(332);function M(e){var t=Object(i.useRef)(),n=r.a.useState([e.range_min_value,e.range_max_value]),a=Object(l.a)(n,2),c=a[0],s=a[1];return Object(i.useEffect)((function(){var n=C.h(t.current).select("#svgScatterContainer");if(n.empty()){var a=C.h(t.current),i=e.music_data.slice(e.range_min_value,e.range_max_value);e.selected.forEach((function(e){i.includes(e)||i.push(e)}));var r=(n=a.append("svg").attr("id","svgScatterContainer").attr("width",e.device_width-350).attr("height",e.device_height-268).call(C.i().on("zoom",(function(e){n.attr("transform",e.transform)}))).append("g").attr("transform","translate(10,0)")).append("defs").append("filter").attr("id","glow");r.append("feGaussianBlur").attr("stdDeviation","1.2").attr("result","coloredBlur");var c=r.append("feMerge");c.append("feMergeNode").attr("in","coloredBlur"),c.append("feMergeNode").attr("in","SourceGraphic");var s=C.f().domain([-3,5]).range([0,e.device_width-350]);n.append("g").attr("transform","translate(0,0)").call(C.b(s)).style("opacity",0);var o=C.f().domain([-2,4.5]).range([e.device_height-380,0]);n.append("g").call(C.c(o)).style("opacity",0),n.append("g").selectAll("dot").data(i).enter().append("circle").attr("cx",(function(e){return s(e.X)})).attr("cy",(function(e){return o(e.Y)})).attr("r",0).attr("style",(function(t){return e.selected.has(t)?"  fill: #75ad86;\n          opacity: 1;":"  fill: #75ada0;\n        opacity: 0.5;"})),n.selectAll("circle").transition().delay((function(e,t){return 1*t})).duration(1e3).style("filter",(function(t,n){return e.selected.has(t)?"url(#glow)":""})).attr("fill",(function(t,n){return e.selected.has(t)?"#43D38E":"#8dac96"})).attr("r",(function(t,n){return e.selected.has(t)?8:2})),n.selectAll("circle").on("click",(function(t,n){!function(t){e.onSelectedChange(t)}(n)})).on("mouseover",(function(e,t){C.h(this).transition().duration(200).attr("r",8).style("opacity",1);var n="<b>-"+t.name+"</b> <br/>(X="+Number.parseFloat(t.X).toPrecision(3)+", Y=<span>"+Number.parseFloat(t.Y).toPrecision(3)+")</span>";l.html(n).style("left",e.pageX+38+"px").style("top",e.pageY-28+"px").transition().duration(500).style("opacity",.9)})).on("mouseout",(function(t,n){C.h(this).transition().duration(200).attr("transform","scale(1)"),e.selected.has(n)||C.h(this).transition().duration(200).attr("r",(function(t){if(!e.selected.has(n))return 2})),l.transition().duration(300).style("opacity",0)}));var l=a.append("div").attr("class","tooltip").style("padding","10px").style("opacity",0)}}),[e.range_min_value,e.range_max_value]),Object(y.jsxs)("div",{style:{paddingLeft:"20em"},children:[Object(y.jsx)("h2",{className:"title",children:"Select a music from the left list, or select music from the plot. Closer nodes (musics) means similarity between musics!"}),Object(y.jsx)("div",{ref:t,id:"scatterContainer",style:{height:e.device_height-268}}),Object(y.jsxs)("div",{style:{display:"-webkit-inline-flex",marginTop:"+10px"},children:[Object(y.jsx)(E.a,{style:{width:e.device_width-750+"px"},className:"range-slider",value:c,min:0,step:250,max:69750,onChange:function(e,t){var n=Object(o.a)(t);s(n)},valueLabelDisplay:"auto","aria-labelledby":"range-slider"}),Object(y.jsx)(G.a,{color:"secondary",onClick:function(){c[1]-c[0]>=5e3&&window.alert("Your selected range cointains more than 5000 musics. It can affect the performance!"),e.onRangeChange(c)},style:{marginLeft:"30px",marginTop:"-5px"},children:"Change Music Range"})]})]})}function D(e,t){console.log(e===t)}var _=r.a.memo(M,D),N=n.p+"static/media/data_by_year.53a349c4.csv";function R(e){var t=Object(i.useRef)(),n=C.g,a=e.selectedAttributes,r=e.handleAttributesChange;return Object(i.useEffect)((function(){var i=C.h(t.current),r=20,c=40,s=30,o=50,l=e.device_width-o-c,d=e.device_height-200-s,u=C.f().range([0,l]),p=C.f().range([d,0]),h=C.a().x((function(e){return u(e.year)})).y0(d).y1((function(e){return p(e.energy)})),f=C.a().x((function(e){return u(e.year)})).y0(d).y1((function(e){return p(e.valence)})),g=C.a().x((function(e){return u(e.year)})).y0(d).y1((function(e){return p(e.acousticness)})),b=C.a().x((function(e){return u(e.year)})).y0(d).y1((function(e){return p(e.danceability)})),m=C.a().x((function(e){return u(e.year)})).y0(d).y1((function(e){return p(e.instrumentalness)})),j=C.a().x((function(e){return u(e.year)})).y0(d).y1((function(e){return p(e.liveness)})),y=C.a().x((function(e){return u(e.year)})).y0(d).y1((function(e){return p(e.speechiness)})),x=i.select("#svgOverYearsContainer");x.empty()&&(x=i.append("svg").attr("id","svgOverYearsContainer").attr("width",l+o+c).attr("height",d+r+s).append("g").attr("transform","translate("+o+","+r+")"),C.d(N).then((function(e){e.forEach((function(e){e.year=Number(e.year),e.energy=Number(e.energy),e.valence=Number(e.valence)})),u.domain([1920,2021]),p.domain([0,1]);var t=x.append("defs").append("linearGradient").attr("id","svgGradient0").attr("gradientTransform","rotate(90)");t.append("stop").attr("offset","5%").attr("stop-color",n[0]).attr("stop-opacity",.4),t.append("stop").attr("offset","95%").attr("stop-color",n[0]).attr("stop-opacity",.05),a.includes("acousticness")&&x.append("path").data([e]).attr("class","area").attr("d",g).attr("fill",n[0]).attr("opacity","0.4"),a.includes("danceability")&&x.append("path").data([e]).attr("class","area").attr("d",b).attr("fill",n[1]).attr("opacity","0.4"),a.includes("valence")&&x.append("path").data([e]).attr("class","area").attr("d",f).attr("fill",n[6]).attr("opacity","0.4"),a.includes("energy")&&x.append("path").data([e]).attr("class","area").attr("d",h).attr("fill",n[2]).attr("opacity","0.4"),a.includes("instrumentalness")&&x.append("path").data([e]).attr("class","area").attr("d",m).attr("fill",n[3]).attr("opacity","0.4"),a.includes("liveness")&&x.append("path").data([e]).attr("class","area").attr("d",j).attr("fill",n[4]).attr("opacity","0.4"),a.includes("speechiness")&&x.append("path").data([e]).attr("class","area").transition().duration(2500).attr("d",y).attr("fill",n[5]).attr("opacity","0.4"),x.selectAll("path").on("mouseover",(function(e){C.h(this).attr("opacity","1")})),x.selectAll("path").on("mouseout",(function(e){C.h(this).attr("opacity","0.4")})),x.append("g").attr("transform","translate(0,"+d+")").call(C.b(u).ticks(40).tickFormat(C.e("d"))).selectAll("text").attr("y",10).attr("fill","#fff").attr("opacity","0.6").attr("dy",".35em").attr("transform","rotate(45)").style("text-anchor","start"),x.append("g").call(C.c(p).ticks(2)).selectAll("text").attr("x",-20).attr("fill","#fff").attr("opacity","0.2").attr("dy",".35em").style("text-anchor","start")})))}),[a]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{id:"featuresContainer",style:{height:"70px",display:"-webkit-inline-flex",marginTop:"30px",marginLeft:"+80px",flexWrap:"wrap",alignContent:"flex-start",justifyContent:"start"},children:[Object(y.jsx)("div",{id:"acousticness",class:"compare-legend",onClick:r,style:{opacity:a.includes("acousticness")?"1":"0.5",marginBottom:"5px",backgroundColor:n[0]},children:"Acousticness"}),Object(y.jsx)("div",{id:"danceability",class:"compare-legend",onClick:r,style:{opacity:a.includes("danceability")?"1":"0.5",marginBottom:"5px",backgroundColor:n[1]},children:"Danceability"}),Object(y.jsx)("div",{id:"energy",class:"compare-legend",onClick:r,style:{opacity:a.includes("energy")?"1":"0.5",marginBottom:"5px",backgroundColor:n[2]},children:"Energy"}),Object(y.jsx)("div",{id:"instrumentalness",class:"compare-legend",onClick:r,style:{opacity:a.includes("instrumentalness")?"1":"0.5",marginBottom:"5px",backgroundColor:n[3]},children:"Instrumentalness"}),Object(y.jsx)("div",{id:"liveness",class:"compare-legend",onClick:r,style:{opacity:a.includes("liveness")?"1":"0.5",marginBottom:"5px",backgroundColor:n[4]},children:"Liveness"}),Object(y.jsx)("div",{id:"speechiness",class:"compare-legend",onClick:r,style:{opacity:a.includes("speechiness")?"1":"0.5",marginBottom:"5px",backgroundColor:n[5]},children:"Speechiness"}),Object(y.jsx)("div",{id:"valence",class:"compare-legend",onClick:r,style:{opacity:a.includes("valence")?"1":"0.5",marginBottom:"5px",backgroundColor:n[6]},children:"Valence"})]}),Object(y.jsx)("div",{ref:t,children:" "})]})}function z(){return Object(y.jsx)("div",{children:" NO MATCH 404 "})}var I,L=n(52),P=n(30),F=n(73),Z=n(78),H=function(e){Object(F.a)(n,e);var t=Object(Z.a)(n);function n(e){return Object(L.a)(this,n),t.call(this,e)}return Object(P.a)(n,[{key:"render",value:function(){return Object(y.jsx)("iframe",{title:"musicPreview",src:"https://open.spotify.com/embed/track/"+this.props.music_preview_id,style:{border:"0",width:"100%",height:"235px"},allowFullScreen:!0,allow:"encrypted-media"})}}]),n}(r.a.Component),J=n(21),Y=j.a.input(I||(I=Object(g.a)(["\n  color: #575d69;\n  background: transparent;\n  border: none;\n  border-bottom: 2px solid #575d69;\n  font-size: larger;\n  margin-top: 8px;\n  width: 90%;\n  padding: 8px;\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-origin: content-box;\n  background-size: contain;\n  text-indent: 40px;\n  :focus {\n    outline: 0px; /* oranges! yey */\n    color: white;\n    border-bottom: 2px solid white;\n  }\n"])),"data:image/png;base64,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"),W=function(e){Object(F.a)(n,e);var t=Object(Z.a)(n);function n(e){var a;return Object(L.a)(this,n),(a=t.call(this,e)).handleChange=a.handleChange.bind(Object(J.a)(a)),a}return Object(P.a)(n,[{key:"handleChange",value:function(e){this.props.onInputChange(e.target.value)}},{key:"render",value:function(){return Object(y.jsx)("form",{children:Object(y.jsx)(Y,{type:"text",name:"search",placeholder:"Search",onChange:this.handleChange})})}}]),n}(r.a.Component);n(268);function X(e){var t=Object(u.g)();return Object(y.jsx)("div",{children:"/compare"===t.pathname?Object(y.jsxs)("div",{className:"radio-toolbar",onChange:e.filterTypeHandle,children:[Object(y.jsx)("input",{type:"radio",id:"radioMusic",name:"filter",value:"music",checked:"music"==e.filterType}),Object(y.jsx)("label",{for:"radioMusic",children:" Music "}),Object(y.jsx)("input",{type:"radio",id:"radioArtist",name:"filter",value:"artist",checked:"artist"==e.filterType}),Object(y.jsx)("label",{for:"radioArtist",children:" Artist "}),Object(y.jsx)("input",{type:"radio",id:"radioGenre",name:"filter",value:"genre",checked:"genre"==e.filterType}),Object(y.jsx)("label",{for:"radioGenre",children:" Genre "})]}):Object(y.jsx)("div",{style:{minHeight:"50px"}})})}var Q,U=n(157),V=n.p+"static/media/play-button.774660e9.svg",K=n(329),q=n(334),$=n(324),ee=n(322),te=n(323),ne=n(321),ae=n(155),ie=n.n(ae);function re(e){var t=Object(u.g)(),n=r.a.useState(!1),a=Object(l.a)(n,2),c=a[0],s=a[1],o=r.a.useState(),d=Object(l.a)(o,2),p=d[0],h=d[1],f=r.a.useState(),g=Object(l.a)(f,2),b=g[0],m=g[1],j=function(){s(!1)};Object(i.useEffect)((function(){b||x()}),[]);var x=function(){if(!b){ie()("https://accounts.spotify.com/api/token",{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+btoa("9fa12112653b415293b8e48f31c9df4b:839ec8df99754bc3aff87e5c0853b6fd")},data:"grant_type=client_credentials",method:"POST"}).then((function(e){m(e.data.access_token)}))}},v=e.searchTerm.toLowerCase(),O=e.music_data;"music"==e.filterType?O=e.music_data.filter((function(e){return e.name.toLowerCase().includes(v)})):"artist"==e.filterType?O=e.music_data.filter((function(e){return e.artists.toLowerCase().includes(v)})):"genre"==e.filterType&&(O=e.music_data.filter((function(e){return e.genres.toLowerCase().includes(v)})));return Object(y.jsxs)("div",{children:["/compare"===t.pathname&&"music"===e.filterType?Object(y.jsx)("div",{onClick:function(){s(!0)},className:"add-music",style:{borderColor:"#ffffff",height:"50px",margin:"5px",marginLeft:"18px",marginRight:"18px",opacity:"0.4"},children:Object(y.jsx)("p",{style:{color:"#ffffff",fontSize:"32px",marginTop:"-18px",fontWeight:"lighter"},children:"+"})}):Object(y.jsx)(y.Fragment,{}),Object(y.jsx)(U.a,{width:340,height:"/compare"===t.pathname?e.device_height-403:e.device_height-323,itemCount:O.length,itemSize:55,children:function(t){var n=t.index,a=t.style;return Object(y.jsx)("div",{className:"test",style:a,children:Object(y.jsxs)("div",{style:{display:"-webkit-inline-box"},onClick:function(){return t=O[n],void e.onSelectedChange(t);var t},className:e.selected.has(O[n])?"song-selected":"song-notselected",children:[Object(y.jsx)("p",{style:{width:"3em",textAlign:"left"},children:"music"==e.filterType?Object(y.jsx)("img",{className:"play-button",height:"25",src:V,alt:"P",onClick:function(t){t.stopPropagation(),e.onPreviewChange(O[n].id)}}):Object(y.jsx)("div",{children:"\xa0"})}),Object(y.jsx)("div",{class:"text ellipsis",children:Object(y.jsxs)("span",{class:"text-concat song-text",children:[O[n].name&&O[n].name,O[n].artists&&O[n].artists,O[n].genres&&O[n].genres]})})]})})}}),Object(y.jsxs)(q.a,{open:c,onClose:j,"aria-labelledby":"form-dialog-title",children:[Object(y.jsx)(ne.a,{id:"form-dialog-title",children:"Add Missing Music"}),Object(y.jsxs)(ee.a,{children:[Object(y.jsx)(te.a,{children:"To add a missing music to compare, copy the music id from Spotify here"}),Object(y.jsx)("p",{style:{fontWeight:"lighter",fontSize:"16px",color:"#979797"},children:"The Spotify music IDs are like: 6wX3aeg2vMBAFB0ubaraLb"}),Object(y.jsx)(K.a,{autoFocus:!0,margin:"dense",id:"name",label:"Spotify Music ID",type:"string",onChange:function(e){h(e.target.value)},fullWidth:!0})]}),Object(y.jsxs)($.a,{children:[Object(y.jsx)(G.a,{onClick:j,color:"primary",children:"Cancel"}),Object(y.jsx)(G.a,{onClick:function(t){if(b){var n="https://api.spotify.com/v1/audio-features/"+p;fetch("https://api.spotify.com/v1/tracks/"+p,{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+b}}).then((function(e){return e.json()})).then((function(t){console.log("Response:",t),fetch(n,{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+b}}).then((function(e){return e.json()})).then((function(n){s(!1),console.log("Response:",n);var a={id:n.id.toString(),name:t.name.toString(),acousticness:n.acousticness.toString(),danceability:n.danceability.toString(),energy:n.energy.toString(),liveness:n.liveness.toString(),instrumentalness:n.instrumentalness.toString(),tempo:n.tempo.toString(),speechiness:n.speechiness.toString(),valence:n.valence.toString(),X:"-30",Y:"-30"};e.addMusic(a)})).catch((function(e){console.warn("Error:",e),s(!1)}))})).catch((function(e){console.warn("Error:",e)}))}else x()},color:"primary",children:"Add"})]})]})]})}var ce=j.a.div(Q||(Q=Object(g.a)(["\n  position: -webkit-sticky; /* Safari */\n  position: sticky;\n  top: 0;\n  background-color: #212330;\n"])));function se(e){var t=Object(i.useState)(""),n=Object(l.a)(t,2),a=n[0],r=n[1],c=Object(u.g)();return Object(y.jsx)("div",{children:"/overyears"==c.pathname?Object(y.jsx)(y.Fragment,{}):Object(y.jsxs)("div",{className:"fixed-sidebar",children:[Object(y.jsxs)(ce,{children:[Object(y.jsx)(H,{music_preview_id:e.music_preview_id}),Object(y.jsx)(W,{onInputChange:function(e){r(e)},children:" "}),Object(y.jsx)(X,{filterTypeHandle:e.filterTypeHandle,filterType:e.filterType,filter:e.filter,handleFilter:e.handleFilter})]}),Object(y.jsx)(re,{addMusic:e.addMusic,onAddHandle:e.onAddHandle,filterTypeHandle:e.filterTypeHandle,filterType:e.filterType,onPreviewChange:e.onPreviewChange,music_data:e.music_data,searchTerm:a,selected:e.selected,onSelectedChange:e.onSelectedChange,device_height:e.device_height})]})})}var oe=function(e){return Object(y.jsxs)("div",{children:[" ",e.children," "]})},le=n.p+"static/media/compact_data.f884b22f.csv",de=n.p+"static/media/data_by_artist.4918a4cd.csv",ue=n.p+"static/media/data_by_genres.37662d1c.csv",pe=n(156),he=n(325),fe=Object(pe.a)({palette:{primary:{main:"#75ada0"},secondary:{main:"#31b475"},type:"dark"}});function ge(){var e=Object(i.useState)(new Set),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)(new Array),s=Object(l.a)(c,2),g=s[0],b=s[1],m=Object(i.useState)(new Array),j=Object(l.a)(m,2),x=j[0],O=j[1],A=Object(i.useState)(new Array),w=Object(l.a)(A,2),S=w[0],k=w[1],T=Object(i.useState)(new Array),E=Object(l.a)(T,2),G=E[0],M=E[1],D=Object(i.useState)("music"),I=Object(l.a)(D,2),L=I[0],P=I[1],F=r.a.useState("radar"),Z=Object(l.a)(F,2),H=Z[0],J=Z[1],Y=r.a.useState(["acousticness","energy"]),W=Object(l.a)(Y,2),X=W[0],Q=W[1],U=Object(i.useState)("1YYhDizHx7PnDhAhko6cDS"),V=Object(l.a)(U,2),K=V[0],$=V[1],ae=Object(i.useState)(7e3),ie=Object(l.a)(ae,2),re=ie[0],ce=ie[1],pe=Object(i.useState)(1e4),ge=Object(l.a)(pe,2),be=ge[0],me=ge[1],je=Object(i.useState)(0),ye=Object(l.a)(je,2),xe=ye[0],ve=ye[1],Oe=r.a.useState(!0),Ae=Object(l.a)(Oe,2),Ce=Ae[0],we=Ae[1],Se=function(e){if(X.includes(e.target.id)){var t=X.filter((function(t){return t!==e.target.id}));Q(Object(o.a)(t))}else{var n=Object(o.a)(X);n.push(e.target.id),Q(n)}},ke=function(e){ve(e)},Te=Object(i.useCallback)((function(e){$(e)}),[K]),Be=Object(i.useCallback)((function(e){ce(e[0]),me(e[1])}),[re,be]),Ee=Object(i.useCallback)((function(e){if(n.has(e)){var t=new Set(n);t.delete(e),a(t)}else{var i=new Set(n);i.add(e),a(i)}}),[n]),Ge=function(){var e=Object(i.useState)({width:void 0,height:void 0}),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(i.useEffect)((function(){function e(){a({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}();return Object(i.useEffect)((function(){Object(C.d)(ue).then((function(e){k(e),ke(1),Object(C.d)(de).then((function(e){O(e),ke(2),Object(C.d)(N).then((function(e){M(e),ke(3),Object(C.d)(le).then((function(e){b(e),we(!1)}))}))}))}))}),[]),Object(y.jsx)(he.a,{theme:fe,children:Object(y.jsx)(d.a,{children:Object(y.jsxs)(p.a,{fluid:"true",style:{paddingRight:"15px",marginRight:"auto",marginLeft:"auto"},children:[Object(y.jsxs)(h.a,{children:[g.length>0&&Object(y.jsx)(se,{addMusic:function(e){b([e].concat(Object(o.a)(g)))},filterTypeHandle:function(e){a(new Set),P(e.target.value)},filterType:L,onPreviewChange:Te,music_preview_id:K,music_data:"music"==L?g:"artist"==L?x:S,onSelectedChange:Ee,selected:n,device_height:Ge.height}),Object(y.jsxs)(f.a,{children:[Object(y.jsx)(v,{filterType:L,setFilterType:P,setSelected:a}),Object(y.jsx)(oe,{children:Object(y.jsxs)(u.d,{children:[Object(y.jsx)(u.b,{exact:!0,path:"/",children:Object(y.jsx)(u.a,{to:"/compare"})}),Object(y.jsx)(u.b,{path:"/selection",component:function(){return Object(y.jsx)(_,{music_data:g,onSelectedChange:Ee,onPreviewChange:Te,onRangeChange:Be,selected:n,device_height:Ge.height,device_width:Ge.width,range_max_value:be,range_min_value:re})}}),Object(y.jsx)(u.b,{path:"/compare",component:function(){return Object(y.jsx)(B,{chartTypeValue:H,setChartTypeValue:J,music_data:"music"==L?g:"artist"==L?x:S,onSelectedChange:Ee,selected:n,device_height:Ge.height,device_width:Ge.width})}}),Object(y.jsx)(u.b,{path:"/overyears",component:function(){return Object(y.jsx)(R,{selectedAttributes:X,handleAttributesChange:Se,year_data:G,device_height:Ge.height,device_width:Ge.width})}}),Object(y.jsx)(u.b,{component:z})]})})]})]}),Object(y.jsxs)(q.a,{open:Ce,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(y.jsx)(ne.a,{id:"alert-dialog-slide-title",children:"Dataset("+(xe+1)+"/4) is loading!"}),Object(y.jsx)(ee.a,{children:Object(y.jsx)(te.a,{id:"alert-dialog-slide-description",children:"Datasets are too large and have been stored in the git lfs. Thus, the loading might be slow. Thanks for your patience!"})})]})]})})})}var be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,336)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),r(e),c(e)}))};n(286);s.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(ge,{})}),document.getElementById("root")),be()}},[[287,1,2]]]);
//# sourceMappingURL=main.50533849.chunk.js.map